<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.24">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="author" content="Maria Tackett">
<title>3&nbsp; Exploratory data analysis – Introduction to Regression Analysis</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>

<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./04-slr.html" rel="next">
<link href="./02-review-r.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dc55a5b9e770e841cd82e46aadbfb9b0.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-31c3c5ec0f84e3846e28bd1517aa8340.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script src="site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet"><script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script><script defer="" data-domain="https://matackett.github.io/regression-book/" src="https://plausible.io/js/script.js"></script><script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script><script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script><script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN" && texText && texText.data) {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>
</head>
<body class="nav-sidebar floating quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="quarto-secondary-nav"><div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./01-intro.html">Part 1: Getting started</a></li><li class="breadcrumb-item"><a href="./03-eda.html"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Exploratory data analysis</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto"><div class="pt-lg-2 mt-2 text-left sidebar-header sidebar-header-stacked">
      <a href="./index.html" class="sidebar-logo-link">
      </a>
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Introduction to Regression Analysis</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/matackett/regression-book" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Welcome</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./00-preface.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Part 1: Getting started</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01-intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Regression in the data science workflow</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02-review-r.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Data analysis in R</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03-eda.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Exploratory data analysis</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Part 2: Simple linear regression</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04-slr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Simple linear regression</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05-slr-inference.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Inference for simple linear regression</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./06-slr-conditions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Model conditions and diagnostics</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">Part 3: Multiple linear regression</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07-mlr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Multiple linear regression</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./08-mlr-inference.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Inference for multiple linear regression</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./09-mlr-transformations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Variable transformations</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./10-model-eval.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Model selection</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true">
 <span class="menu-text">Part 4: Beyond linear regression</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./11-logistic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Logistic regression</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./12-logistic-prediction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Logistic regression: Prediction and evaluation</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./13-special-topics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Special topics</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true">
 <span class="menu-text">Appendices</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./appendix-linear.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">Mathematics of linear regression</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./appendix-logistic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">B</span>&nbsp; <span class="chapter-title">Mathematics of logistic regression</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./datasets.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">C</span>&nbsp; <span class="chapter-title">Data sets</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
      </ul>
</li>
    </ul>
</div>
</nav><div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">Table of contents</h2>
   
  <ul>
<li><a href="#learning-goals" id="toc-learning-goals" class="nav-link active" data-scroll-target="#learning-goals">Learning goals</a></li>
  <li><a href="#sec-intro-recipes" id="toc-sec-intro-recipes" class="nav-link" data-scroll-target="#sec-intro-recipes"><span class="header-section-number">3.1</span> Introduction: Recipes</a></li>
  <li><a href="#purpose-of-exploratory-data-analysis" id="toc-purpose-of-exploratory-data-analysis" class="nav-link" data-scroll-target="#purpose-of-exploratory-data-analysis"><span class="header-section-number">3.2</span> Purpose of exploratory data analysis</a></li>
  <li><a href="#sec-initial-check" id="toc-sec-initial-check" class="nav-link" data-scroll-target="#sec-initial-check"><span class="header-section-number">3.3</span> Initial data cleaning</a></li>
  <li>
<a href="#sec-univar-eda" id="toc-sec-univar-eda" class="nav-link" data-scroll-target="#sec-univar-eda"><span class="header-section-number">3.4</span> Distribution of a single variable</a>
  <ul class="collapse">
<li><a href="#sec-univar-eda-cat" id="toc-sec-univar-eda-cat" class="nav-link" data-scroll-target="#sec-univar-eda-cat"><span class="header-section-number">3.4.1</span> Categorical variable</a></li>
  <li><a href="#sec-univar-eda-quant" id="toc-sec-univar-eda-quant" class="nav-link" data-scroll-target="#sec-univar-eda-quant"><span class="header-section-number">3.4.2</span> Quantitative variable</a></li>
  </ul>
</li>
  <li>
<a href="#sec-bivar-eda" id="toc-sec-bivar-eda" class="nav-link" data-scroll-target="#sec-bivar-eda"><span class="header-section-number">3.5</span> Relationship between two variables</a>
  <ul class="collapse">
<li><a href="#sec-bivar-quant-eda" id="toc-sec-bivar-quant-eda" class="nav-link" data-scroll-target="#sec-bivar-quant-eda"><span class="header-section-number">3.5.1</span> Two quantitative variables</a></li>
  <li><a href="#sec-bivar-eda-quant-cat" id="toc-sec-bivar-eda-quant-cat" class="nav-link" data-scroll-target="#sec-bivar-eda-quant-cat"><span class="header-section-number">3.5.2</span> Quantitative and categorical variables</a></li>
  <li><a href="#sec-bivar-eda-cat-cat" id="toc-sec-bivar-eda-cat-cat" class="nav-link" data-scroll-target="#sec-bivar-eda-cat-cat"><span class="header-section-number">3.5.3</span> Two categorical variables</a></li>
  </ul>
</li>
  <li><a href="#sec-multivar-eda" id="toc-sec-multivar-eda" class="nav-link" data-scroll-target="#sec-multivar-eda"><span class="header-section-number">3.6</span> Relationship between three or more variables</a></li>
  <li>
<a href="#exploratory-data-analysis-in-r" id="toc-exploratory-data-analysis-in-r" class="nav-link" data-scroll-target="#exploratory-data-analysis-in-r"><span class="header-section-number">3.7</span> Exploratory data analysis in R</a>
  <ul class="collapse">
<li><a href="#data-summaries" id="toc-data-summaries" class="nav-link" data-scroll-target="#data-summaries"><span class="header-section-number">3.7.1</span> Data summaries</a></li>
  <li><a href="#waffle-charts" id="toc-waffle-charts" class="nav-link" data-scroll-target="#waffle-charts"><span class="header-section-number">3.7.2</span> Waffle charts</a></li>
  <li><a href="#ridgeline-plots" id="toc-ridgeline-plots" class="nav-link" data-scroll-target="#ridgeline-plots"><span class="header-section-number">3.7.3</span> Ridgeline plots</a></li>
  <li><a href="#mosaic-plots" id="toc-mosaic-plots" class="nav-link" data-scroll-target="#mosaic-plots"><span class="header-section-number">3.7.4</span> Mosaic plots</a></li>
  </ul>
</li>
  <li><a href="#summary" id="toc-summary" class="nav-link" data-scroll-target="#summary"><span class="header-section-number">3.8</span> Summary</a></li>
  </ul><div class="toc-actions"><ul><li><a href="https://github.com/matackett/regression-book/issues/new" class="toc-action"><i class="bi bi-github"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./01-intro.html">Part 1: Getting started</a></li><li class="breadcrumb-item"><a href="./03-eda.html"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Exploratory data analysis</span></a></li></ol></nav><div class="quarto-title">
<h1 class="title"><span id="sec-ch-eda" class="quarto-section-identifier"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Exploratory data analysis</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header><!--# do i rename this to cleaning and exploration to be consistent with the workflow in chapter 1? --><!--# do i talk about the goals of EDA enough here?--><!--# do i need more here about notable features in the data--><!--# figure out how i talk about outliers and missing data here vs referencing other chapters--><!--# reconcile country and country_simp.--><section id="learning-goals" class="level2 unnumbered"><h2 class="unnumbered anchored" data-anchor-id="learning-goals">Learning goals</h2>
<ul>
<li><p>Describe the distribution of an individual variable using visualizations and summary statistics</p></li>
<li><p>Describe the relationship between two or more variables using visualizations and summary statistics</p></li>
<li><p>Identify outliers and other interesting features in the data</p></li>
<li><p>Explain how outliers and other unusual features may impact analysis results <!--# I'd like another word besides unusual or interesting--></p></li>
</ul>
<!--# learning goal?  Conduct exploratory data analysis in R ?--><!--# 
## Software and packages {.unnumbered}

-   `tidyverse` [@tidyverse]

-   `tastyR` [@tastyR]

-   `knitr` [@knitr]

-   `skimr` [@skimr]

-   `ggridges` [@ggridges]
--></section><section id="sec-intro-recipes" class="level2" data-number="3.1"><h2 data-number="3.1" class="anchored" data-anchor-id="sec-intro-recipes">
<span class="header-section-number">3.1</span> Introduction: Recipes</h2>
<p>Allrecipes <!--# do I add a trademark? --> (<a href="https://allrecipes.com">allrecipes.com</a>) is a popular cooking website visited by over 60 million users each month <span class="citation" data-cites="allrecipes_aboutus">(<a href="references.html#ref-allrecipes_aboutus" role="doc-biblioref">Allrecipes 2025</a>)</span>. The site is most known for providing recipes and tips making it easy to cook a variety of dishes from around in the world at home. The recipes are primarily submitted by non-professional home cooks, and users can rate and review the recipes. Each week, over 200 new recipes are added to the site and over 2000 recipes receive new ratings <span class="citation" data-cites="allrecipes_aboutus">(<a href="references.html#ref-allrecipes_aboutus" role="doc-biblioref">Allrecipes 2025</a>)</span>.</p>
<p>The analysis in this chapter will focus on 2218 recipes that were posted on Allrecipes between February 2009 and July 2025. In this data, a recipe is “posted” if it is newly published or updated. The data were adapted from the <code>cuisines</code> data frame in the <strong>tastyR</strong> R package <span class="citation" data-cites="tastyR">(<a href="references.html#ref-tastyR" role="doc-biblioref">Mubia 2025a</a>)</span>. The data in <code>cuisines</code> were originally scraped from Allrecipes by data scientist Brian Mubia <span class="citation" data-cites="briansworks_14krecipes_2025">(<a href="references.html#ref-briansworks_14krecipes_2025" role="doc-biblioref">Mubia 2025b</a>)</span>. The <strong>tastyR</strong> package was featured as part of TidyTuesday <span class="citation" data-cites="tidytuesday">(<a href="references.html#ref-tidytuesday" role="doc-biblioref">Community 2024</a>)</span>, the weekly data visualization challenge, in September 2025.</p>
<p>The data are in <code>recipes.csv</code>. We will use the following variables: <!--# remove all the variables I don't end up using--></p>
<ul>
<li><p><code>country</code>: The country / region the cuisine is from (<code>Brazilian</code>, <code>Filipino</code>, <code>French</code>, <code>Italian</code>, <code>Other</code>). This is a simplified version of the <code>country</code> variable in the <code>cuisines</code> data frame.</p></li>
<li><p><code>author</code>: User who posted the recipe</p></li>
<li><p><code>chef_john</code>: Indicator of whether recipe was posted by American Chef John Mitzewich (known as Chef John), derived from the variable <code>author</code>. (<code>1</code>: Posted by Chef John, <code>0</code>: Not posted by Chef John)</p></li>
<li><p><code>month</code>: Month in which the recipe posted, derived from the variable <code>date_published</code> in the <code>cuisines</code> data frame. (<code>1</code>: January, <code>2</code>: February, <code>3</code>: March, . . ., <code>12</code>: December).</p></li>
<li>
<p><code>season</code>: Season in which the recipe was posted, derived from variable <code>date_published</code> and based on the definition of seasons in <span class="citation" data-cites="ncei">National Centers for Environmental Information (NCEI) (<a href="references.html#ref-ncei" role="doc-biblioref">2025</a>)</span>.)</p>
<ul>
<li><p><code>Spring</code>: Months 3, 4, 5</p></li>
<li><p><code>Summer</code>: Months 6, 7, 8</p></li>
<li><p><code>Fall</code>: Months 9, 10, 11</p></li>
<li><p><code>Winter</code>: Months 12, 1, 2</p></li>
</ul>
</li>
<li><p><code>calories</code>: Number of calories per serving</p></li>
<li><p><code>protein</code>: Amount of protein per serving (in grams)</p></li>
<li><p><code>avg_rating</code>: Average rating (<code>1</code>: worst to <code>5</code>: best)</p></li>
<li><p><code>total_ratings</code>: Number of ratings</p></li>
<li><p><code>reviews</code>: Number of reviews</p></li>
<li><p><code>prep_time</code>: Preparation time (in minutes)</p></li>
<li><p><code>cook_time</code>: Cooking time (in minutes)</p></li>
<li>
<p><code>total_time</code>: Total time to make dish (in minutes).</p>
<ul>
<li>Note this is often <code>prep_time</code> + <code>cook_time</code> but not always. This could include other factors such as marination time or additional waiting periods.</li>
</ul>
</li>
<li><p><code>servings</code>: Number of servings</p></li>
</ul>
<p>See the <strong>tastyR</strong> documentation <span class="citation" data-cites="tastyR">(<a href="references.html#ref-tastyR" role="doc-biblioref">Mubia 2025a</a>)</span> for the full codebook.</p>
<div class="objective">
<p>Our goal is to use exploratory data analysis to understand the distributions of key variables, the relationships between variables, and other interesting features in the data.</p>
</div>
</section><section id="purpose-of-exploratory-data-analysis" class="level2" data-number="3.2"><h2 data-number="3.2" class="anchored" data-anchor-id="purpose-of-exploratory-data-analysis">
<span class="header-section-number">3.2</span> Purpose of exploratory data analysis</h2>
<p>This book is about regression analysis, using statistical models to describe the relationship between a response variable and one or more predictor variables, as well as use predict values of the response variable. This chapter focuses exploratory data analysis, an important step of the workflow that happens before modeling as show <a href="01-intro.html#fig-data-science-workflow" class="quarto-xref">Figure&nbsp;<span>1.3</span></a>. <strong>Exploratory data analysis</strong> <strong>(EDA)</strong> is the process of examining the data to better understand the observations, distributions of variables, relationships between variables, and other interesting features of the data. It helps us identify observations that are far from the majority of the data, instances of missing data, and potential errors in the data <!--# such as errors in how the data were recorded or how the data set was loaded into the statistical software-->. Lastly, it is where we gain initial insights about potential relationships between variables that help inform the decisions we’ll make as we do the regression analysis.</p>
<p>In his 1977 book <em>Exploratory Data Analysis</em> , Statistician John Tukey described EDA as “looking at data to see what it seems to say” <span class="citation" data-cites="tukey1977exploratory">(<a href="references.html#ref-tukey1977exploratory" role="doc-biblioref">Tukey et al. 1977, 2:v</a>)</span>. This short definition emphasizes an important point about EDA. It is only used to glean initial insights from the data (“what it <em>seems</em> to say”) <u><strong>not</strong></u> to draw conclusions. We use statistical inference (<a href="05-slr-inference.html" class="quarto-xref"><span>Chapter 5</span></a> and <a href="08-mlr-inference.html" class="quarto-xref"><span>Chapter 8</span></a>) to draw conclusions from the data. Though we can’t draw conclusions from EDA, it is still a critical step in th workflow. The insights gleaned from EDA help us more fully understand the implications of our results as we apply them in practice. It also helps us as data scientists better communicate the nuances in the data to collaborators and stakeholders. We typically don’t publish all the results of EDA in a final report or presentation, but the knowledge gained from EDA is infused throughout any report or presentation as we describe the data, interpret results, and share conclusions. Simply put,</p>
<blockquote class="blockquote">
<p>“Exploratory and confirmatory [statistical inference] can – and should - proceed side by side.” <span class="citation" data-cites="tukey1977exploratory">(<a href="references.html#ref-tukey1977exploratory" role="doc-biblioref">Tukey et al. 1977, 2:vii</a>)</span></p>
</blockquote>
<!--# is this quote correct, did he not say "exploratoy and confirmatory statistics"? -->
<!--# make sure confirmatory is referring only to inference-->
<!--# is this the correct citation format?-->
<div id="fig-eda-workflow" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-eda-workflow-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="images/03-eda-workflow.png" class="lightbox" data-gallery="quarto-lightbox-gallery-1" title="Figure&nbsp;3.1: Exploratory data analysis workflow"><img src="images/03-eda-workflow.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-eda-workflow-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3.1: Exploratory data analysis workflow
</figcaption></figure>
</div>
<p><a href="#fig-eda-workflow" class="quarto-xref">Figure&nbsp;<span>3.1</span></a> shows the workflow for exploratory data analysis. We typically start by getting a general sense of the data, then explore more detailed relationships in the data. <!--# maybe make this a diagram? Maybe something like a pyramid and then add outliers and such alongside it--></p>
<ul>
<li>Clean data</li>
<li>Explore individual variables</li>
<li>Explore relationships between two variables</li>
<li>Explore relationships between three or more variables</li>
</ul>
<p>In each step of the workflow, we will also make note of <strong>outliers</strong>, observations that are far from the majority of the data. The remainder of this chapter follows the progression outlined above, but the workflow may not be as linear in practice. In fact, some data cleaning may occur based on what is learned at each subsequent step. The goal is to <em>explore</em>, and thus use judgment and creativity to move around the data and guide the exploration.</p>
</section><section id="sec-initial-check" class="level2" data-number="3.3"><h2 data-number="3.3" class="anchored" data-anchor-id="sec-initial-check">
<span class="header-section-number">3.3</span> Initial data cleaning</h2>
<p>After loading the data into software, the first step of the EDA workflow (<a href="#fig-eda-workflow" class="quarto-xref">Figure&nbsp;<span>3.1</span></a>) is an initial check to get an overall view of the data and some initial data cleaning. The purpose of this check is to see whether the data loaded into the software as expected, identify what the rows and columns represent, and understand the variable types and their formats. This step is important, because it allows us to begin data cleaning and make necessary changes to the data and variable formats before moving too far into the analysis.</p>
<p>Statistical software typically has functionality to view a summary of the data. For example, the <code>glimpse()</code> function in the <strong>tidyverse</strong> R package <span class="citation" data-cites="tidyverse-2">(<a href="references.html#ref-tidyverse-2" role="doc-biblioref">Wickham et al. 2019</a>)</span> provides a summary (or “glimpse”) of the data, like the one shown in <a href="#tbl-glimpse-recipe" class="quarto-xref">Table&nbsp;<span>3.1</span></a>. We can often view data in its original format (e.g., <code>.xlsx</code> or <code>.csv</code>) before loading it into the software; however, we still need to check the data after loading it into the software in case of information loss or other problems.</p>
<div id="tbl-glimpse-recipe" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure"><figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-glimpse-recipe-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;3.1: Summary of <code>recipes</code> data
</figcaption><div aria-describedby="tbl-glimpse-recipe-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 2,218
Columns: 22
$ name           &lt;chr&gt; "Saganaki (Flaming Greek Cheese)", "Coney Island Knishe…
$ country        &lt;chr&gt; "Other", "Other", "Other", "Other", "Other", "Other", "…
$ url            &lt;chr&gt; "https://www.allrecipes.com/recipe/263750/flaming-greek…
$ author         &lt;chr&gt; "John Mitzewich", "John Mitzewich", "CHIPPENDALE", "Hei…
$ date_published &lt;date&gt; 2024-02-07, 2024-11-26, 2022-07-14, 2025-01-31, 2025-0…
$ ingredients    &lt;chr&gt; "1 (4 ounce) package kasseri cheese, 1 tablespoon water…
$ calories       &lt;dbl&gt; 391, 301, 64, 106, 449, 958, 378, 90, 157, 322, 4, NA, …
$ fat            &lt;dbl&gt; 25, 17, 3, 9, 23, 24, 10, 5, 6, 16, 0, NA, 21, 2, 66, 8…
$ carbs          &lt;dbl&gt; 15, 31, 9, 7, 58, 144, 59, 10, 25, 39, 1, NA, 16, 63, 7…
$ protein        &lt;dbl&gt; 16, 7, 1, 1, 7, 46, 14, 1, 2, 7, 0, NA, 28, 6, 54, 17, …
$ avg_rating     &lt;dbl&gt; 4.8, 4.6, 4.3, 5.0, 3.8, 4.4, 4.3, NA, 4.6, 5.0, 4.7, 4…
$ total_ratings  &lt;dbl&gt; 25, 10, 126, 1, 13, 40, 3, NA, 65, 2, 182, 2, 19, 16, 9…
$ reviews        &lt;dbl&gt; 22, 9, 104, 1, 11, 32, 3, NA, 55, 2, 138, 2, 15, 16, 84…
$ prep_time      &lt;dbl&gt; 10, 30, 20, 10, 30, 30, 30, 40, 0, 5, 5, 5, 10, 10, 20,…
$ cook_time      &lt;dbl&gt; 5, 75, 15, 0, 15, 165, 75, 30, 0, 5, 0, 25, 10, 50, 16,…
$ total_time     &lt;dbl&gt; 15, 180, 180, 10, 45, 675, 585, 155, 0, 10, 5, 30, 50, …
$ servings       &lt;dbl&gt; 2, 16, 12, 6, 15, 6, 6, 84, 24, 1, 21, 8, 4, 10, 4, 8, …
$ year           &lt;dbl&gt; 2024, 2024, 2022, 2025, 2025, 2022, 2023, 2020, 2025, 2…
$ month          &lt;dbl&gt; 2, 11, 7, 1, 2, 8, 12, 6, 1, 6, 8, 9, 12, 9, 12, 7, 9, …
$ days_on_site   &lt;dbl&gt; 541, 248, 1114, 182, 164, 1085, 598, 1869, 192, 60, 106…
$ chef_john      &lt;dbl&gt; 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0…
$ season         &lt;chr&gt; "Winter", "Fall", "Summer", "Winter", "Winter", "Summer…</code></pre>
</div>
</div>
</figure>
</div>
<p><a href="#tbl-glimpse-recipe" class="quarto-xref">Table&nbsp;<span>3.1</span></a> shows a summary of the <code>recipes</code> data. The rows contain the observations (also known as <em>cases</em>) in the data and the columns contain the variables that describe each observation. There are 2218 rows (observations) and 22 columns (variables) in the data. Each row represents a recipe posted on Allrecipes and each column is a feature or characteristic of the recipe. At this point, we can ask ourselves if these are the expected number of rows and columns based on the original data source. If not, we need to figure out the discrepancy in the number of rows and/or columns and address it before moving forward.</p>
<p>Once we understand the structure of the data, we look at the individual variables more closely. At this point, the primary focus is on the variable type, but we may also notice if there are any missing values (typically coded as <code>NA</code>) and anything else notable about the variable that we want to explore further.</p>
<p>There are three types of variables: quantitative variables, categorical variables, and identifier variables. We typically assign the variable type based on the description and how the observations appear in the data. For example, we typically think of a variable such as <em>age</em>, an individual’s age in years, as quantitative. This is the case if the values are numeric values such as <code>18, 24, 35,...</code>. However, <em>age</em> is a categorical variable if is defined as age ranges, such as <code>18-25, 26-30, 31-35,...</code>. It is important to know the variable type, because that informs how the variable is handled in the regression analysis.</p>
<div class="yourturn">
<ul>
<li><p>What type of variable is <code>month</code>?</p></li>
<li><p>What is the more reliable identifier variable - <code>name</code> or <code>url</code>?<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a></p></li>
</ul>
</div>
<p>In addition to knowing the variable type, we also need to know how it is stored in the software. When the data set is loaded into the software, the software stores each column (the variables) as a specific format. Typically, this column format aligns with the variable type (this is what we want!), but occasionally the format does not align with the variable type. Therefore, the next step of the initial data check is to make sure the column formats are as we expect and address any mismatches. <!--# figure out when I want to use format versus type--></p>
<p>In general, quantitative variables are stored in columns with <em>double / floating point number</em> formats, which are formats for columns that contain real numbers with decimals. In the output above, this is coded by the software as <code>dbl</code>, but you may also see this denoted by <code>float64</code> or similar codes. The software treats columns with this format as numeric data. Examples of these columns in the <code>recipes</code> data set are <code>avg_rating</code> and <code>prep_time</code>. These are both quantitative variables and are being stored in the <em>double/floating point number</em> format in the software. Therefore, the column format aligns with the variable type and will be treated as we expect by the software as we do the analysis.</p>
<p>Columns that contain categorical data are typically stored as <em>character</em> or <em>factor</em> formats. The software treats both of these formats as text rather than numeric data. The primary difference between character and factor types is that the data stored as factors also have an ordering applied. Let’s take a look at some categorical variables in the <code>recipe</code> data . The variables <code>country</code> and and <code>author</code> are two categorical variables that are correctly stored in the software as character (<code>&lt;chr&gt;</code>) data formats.</p>
<!--# I might not need this? The variable season  is also a categorical stored as a character data format. By default, the software will arrange values of this variable in alphabetical order in graphs and analysis output. The seasons do have a specific calendar order that the software is unaware of currently. We can convert this variable to a factor data type and tell the software the calendar order.-->
<!--# this variables type vs column type is feeling a bit convoluted-->
<!--# Make a table for this mapping between variable type and column-->
<p>One of the most common mismatches between the variable’s type and how it is stored occurs when categorical variables are stored in the software under numeric formats. From <a href="#tbl-glimpse-recipe" class="quarto-xref">Table&nbsp;<span>3.1</span></a>, we see this has occurred with the variables <code>month</code> and <code>chef_john</code>. This often happens when the categories are represented by numbers (e.g., “1” instead of “January”). Though we know they are categorical from <a href="#sec-intro-recipes" class="quarto-xref"><span>Section 3.1</span></a>, they are currently stored as <em>double</em> column types by the software. This means the the software thinks we can do calculations, such as find the average or standard deviation; however, these types of operations would not make sense in the context of <code>month</code>, for example. This mismatch can become particularly troublesome in the regression models. As we’ll see in <a href="07-mlr.html" class="quarto-xref"><span>Chapter 7</span></a>, quantitative and categorical variables are handled differently in regression models.</p>
<p>We address these mismatches before moving forward with the EDA by changing the format in which such variables are stored. Once we have made changes to the data, we examine the summary of the data again to check the changes we’ve made and address any remaining issues. In <a href="#tbl-glimpse-recipes-2" class="quarto-xref">Table&nbsp;<span>3.2</span></a>, we see that <code>chef_john</code> and <code>month</code> are now correctly stored as factors, a format suitable for categorical variables. We are now ready to move on to the next step and explore the distributions of individual variables. <!--# [Add reference here to R for data science? Telling stories with data? Modern data science for more detail on data cleaning / prep?] --> <!--# may not need this detail? We specifically make month a factor variable type, because the months have a natural ordering.--></p>
<div id="tbl-glimpse-recipes-2" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure"><figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-glimpse-recipes-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;3.2: Summary of <code>recipes</code> data with correct formats for <code>chef_john</code> and <code>month</code>
</figcaption><div aria-describedby="tbl-glimpse-recipes-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 2,218
Columns: 22
$ name           &lt;chr&gt; "Saganaki (Flaming Greek Cheese)", "Coney Island Knishe…
$ country        &lt;chr&gt; "Other", "Other", "Other", "Other", "Other", "Other", "…
$ url            &lt;chr&gt; "https://www.allrecipes.com/recipe/263750/flaming-greek…
$ author         &lt;chr&gt; "John Mitzewich", "John Mitzewich", "CHIPPENDALE", "Hei…
$ date_published &lt;date&gt; 2024-02-07, 2024-11-26, 2022-07-14, 2025-01-31, 2025-0…
$ ingredients    &lt;chr&gt; "1 (4 ounce) package kasseri cheese, 1 tablespoon water…
$ calories       &lt;dbl&gt; 391, 301, 64, 106, 449, 958, 378, 90, 157, 322, 4, NA, …
$ fat            &lt;dbl&gt; 25, 17, 3, 9, 23, 24, 10, 5, 6, 16, 0, NA, 21, 2, 66, 8…
$ carbs          &lt;dbl&gt; 15, 31, 9, 7, 58, 144, 59, 10, 25, 39, 1, NA, 16, 63, 7…
$ protein        &lt;dbl&gt; 16, 7, 1, 1, 7, 46, 14, 1, 2, 7, 0, NA, 28, 6, 54, 17, …
$ avg_rating     &lt;dbl&gt; 4.8, 4.6, 4.3, 5.0, 3.8, 4.4, 4.3, NA, 4.6, 5.0, 4.7, 4…
$ total_ratings  &lt;dbl&gt; 25, 10, 126, 1, 13, 40, 3, NA, 65, 2, 182, 2, 19, 16, 9…
$ reviews        &lt;dbl&gt; 22, 9, 104, 1, 11, 32, 3, NA, 55, 2, 138, 2, 15, 16, 84…
$ prep_time      &lt;dbl&gt; 10, 30, 20, 10, 30, 30, 30, 40, 0, 5, 5, 5, 10, 10, 20,…
$ cook_time      &lt;dbl&gt; 5, 75, 15, 0, 15, 165, 75, 30, 0, 5, 0, 25, 10, 50, 16,…
$ total_time     &lt;dbl&gt; 15, 180, 180, 10, 45, 675, 585, 155, 0, 10, 5, 30, 50, …
$ servings       &lt;dbl&gt; 2, 16, 12, 6, 15, 6, 6, 84, 24, 1, 21, 8, 4, 10, 4, 8, …
$ year           &lt;dbl&gt; 2024, 2024, 2022, 2025, 2025, 2022, 2023, 2020, 2025, 2…
$ month          &lt;fct&gt; 2, 11, 7, 1, 2, 8, 12, 6, 1, 6, 8, 9, 12, 9, 12, 7, 9, …
$ days_on_site   &lt;dbl&gt; 541, 248, 1114, 182, 164, 1085, 598, 1869, 192, 60, 106…
$ chef_john      &lt;fct&gt; 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0…
$ season         &lt;fct&gt; Winter, Fall, Summer, Winter, Winter, Summer, Winter, S…</code></pre>
</div>
</div>
</figure>
</div>
</section><section id="sec-univar-eda" class="level2" data-number="3.4"><h2 data-number="3.4" class="anchored" data-anchor-id="sec-univar-eda">
<span class="header-section-number">3.4</span> Distribution of a single variable</h2>
<p><strong>Univariate exploratory data analysis</strong> is the exploration of individual variables. The goal is to better understand the variables in the data before exploring at relationships between variables. This is also where we begin to see how the observations in our sample data compare to the population of interest by identifying ways in which the sample data are representative of the population and ways it differs. This helps us understand the scope of inferential conclusions we can draw and potential limitations of the analysis. Univariate EDA is also where we can more clearly see outliers and missing data, and continue cleaning data, as needed.</p>
<section id="sec-univar-eda-cat" class="level3" data-number="3.4.1"><h3 data-number="3.4.1" class="anchored" data-anchor-id="sec-univar-eda-cat">
<span class="header-section-number">3.4.1</span> Categorical variable</h3>
<p>The univariate distribution for a categorical variable includes the levels (or categories) of the variable and the number of observations or proportion of observations at each level. We examine distributions of categorical variables using visualizations and frequency tables.</p>
<p>Let’s examine the distribution of <code>month</code>, the month a recipe was posted, and get some initial insight into the times of year people generally post recipes to the website.</p>
<section id="visualize-the-distribution" class="level4 unnumbered"><h4 class="unnumbered anchored" data-anchor-id="visualize-the-distribution">Visualize the distribution</h4>
<p>A <strong>bar chart</strong> <!--# do we want to call this bar plot or bar graph?--> is a commonly used visualization for univariate categorical distributions. A bar chart has one bar for each level, such that the height of the bar represents the <strong>frequency</strong>, the number of observations at that level. <a href="#fig-univar-month" class="quarto-xref">Figure&nbsp;<span>3.2</span></a> is the bar chart for <code>month</code>. There is a bar for each month, and the height of the bar represents the number of recipes posted that month.</p>
<!--# do i want to adjust the labels? or leave as is?-->
<div class="cell">
<div class="cell-output-display">
<div id="fig-univar-month" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-univar-month-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="03-eda_files/figure-html/fig-univar-month-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-2" title="Figure&nbsp;3.2: Bar chart for the distribution of month"><img src="03-eda_files/figure-html/fig-univar-month-1.png" class="img-fluid figure-img" style="width:100.0%"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-univar-month-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3.2: Bar chart for the distribution of <code>month</code>
</figcaption></figure>
</div>
</div>
</div>
<p>As we look at <a href="#fig-univar-month" class="quarto-xref">Figure&nbsp;<span>3.2</span></a>, one thing that immediately stands out is the large number of recipes in November. We are unable to determine the reason for this large spike from the plot alone, but we may have some hypotheses about why this is the case based on our understanding the site’s users and our collaborators’ subject-matter expertise. One hypothesis is that there is a large uptick in recipes during the holiday season in the United States, Thanksgiving in particular, because it is a United States holiday in November that traditionally includes a large meal.</p>
<p>The bar chart in <a href="#fig-univar-month" class="quarto-xref">Figure&nbsp;<span>3.2</span></a> displays the frequencies, but perhaps we are more interested in visualizing the proportions, also called <strong>relative frequencies</strong>. In that case we can (1) remake the bar plot such that that height of the bars represent the proportions rather than frequencies (<a href="#fig-univar-eda-month-prop-1" class="quarto-xref">Figure&nbsp;<span>3.3 (a)</span></a>), (2) make a pie chart, or (3) make a waffle chart.</p>
<div id="fig-univar-eda-month-prop" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-univar-eda-month-prop-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-univar-eda-month-prop" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-univar-eda-month-prop-1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure"><div aria-describedby="fig-univar-eda-month-prop-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="03-eda_files/figure-html/fig-univar-eda-month-prop-1.png" class="lightbox" data-gallery="fig-univar-eda-month-prop" title="Figure&nbsp;3.3&nbsp;(a): Bar chart"><img src="03-eda_files/figure-html/fig-univar-eda-month-prop-1.png" class="img-fluid figure-img" style="width:100.0%" data-ref-parent="fig-univar-eda-month-prop"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-univar-eda-month-prop-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a) Bar chart
</figcaption></figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-univar-eda-month-prop" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-univar-eda-month-prop-2" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure"><div aria-describedby="fig-univar-eda-month-prop-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="03-eda_files/figure-html/fig-univar-eda-month-prop-2.png" class="lightbox" data-gallery="fig-univar-eda-month-prop" title="Figure&nbsp;3.3&nbsp;(b): Pie chart"><img src="03-eda_files/figure-html/fig-univar-eda-month-prop-2.png" class="img-fluid figure-img" style="width:100.0%" data-ref-parent="fig-univar-eda-month-prop"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-univar-eda-month-prop-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(b) Pie chart
</figcaption></figure>
</div>
</div>
</div>
<div class="quarto-layout-row">
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-univar-eda-month-prop" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-univar-eda-month-prop-3" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure"><div aria-describedby="fig-univar-eda-month-prop-3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="03-eda_files/figure-html/fig-univar-eda-month-prop-3.png" class="lightbox" data-gallery="fig-univar-eda-month-prop" title="Figure&nbsp;3.3&nbsp;(c): Waffle chart"><img src="03-eda_files/figure-html/fig-univar-eda-month-prop-3.png" class="img-fluid figure-img" style="width:100.0%" data-ref-parent="fig-univar-eda-month-prop"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-univar-eda-month-prop-3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(c) Waffle chart
</figcaption></figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-univar-eda-month-prop-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3.3: Visualizations of distribution of <code>month</code> with proportions
</figcaption></figure>
</div>
<p>In <a href="#fig-univar-eda-month-prop-2" class="quarto-xref">Figure&nbsp;<span>3.3 (b)</span></a>, the distribution of <code>month</code> is visualized using a <strong>pie chart</strong>. In a pie chart, each slice represents the proportion of observations at a given level. As we observed from the bar chart, the slice for Month 11 (November) is the largest, indicating the large proportion of recipes in the data were published that month.</p>
<p>In <a href="#fig-univar-eda-month-prop-3" class="quarto-xref">Figure&nbsp;<span>3.3 (c)</span></a>, the distribution of <code>month</code> is visualized using a <strong>waffle chart</strong>. In a waffle chart, the number of squares for each level represents the proportion of observations at that level. It is similar to a pie chart in that is shows how the parts (levels) make up the whole (variable). In fact, it is sometimes referred to as a “square pie chart”. <!--# is that true widely or on one site? --> A nice feature of the waffle chart is that we can count the squares to approximate the proportion of observations at each level.</p>
<p>In general, we can use any of these charts to visualize a univariate distribution of a categorical variable. As we see in <a href="#fig-univar-eda-month-prop" class="quarto-xref">Figure&nbsp;<span>3.3</span></a>, the pie chart and waffle chart can be challenging to read when there are many levels. It can be hard to compare the size of the slices in the pie chart, and distinguish between the many colors on both charts. Therefore, it is preferable to reserve these for categorical variables with fewer levels.</p>
</section><section id="summarize-the-distribution" class="level4 unnumbered"><h4 class="unnumbered anchored" data-anchor-id="summarize-the-distribution">Summarize the distribution</h4>
<p>In addition to visualizations, we can make a frequency table, a table of the number and proportion of observations at each level.</p>
<div class="cell">
<div id="tbl-univar-eda-month" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure"><figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-univar-eda-month-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;3.3: Frequency table for <code>month</code>
</figcaption><div aria-describedby="tbl-univar-eda-month-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="do-not-create-environment cell caption-top table table-sm table-striped small">
<thead><tr class="header">
<th style="text-align: left;">month</th>
<th style="text-align: right;">n</th>
<th style="text-align: right;">prop</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">1</td>
<td style="text-align: right;">230</td>
<td style="text-align: right;">0.104</td>
</tr>
<tr class="even">
<td style="text-align: left;">2</td>
<td style="text-align: right;">211</td>
<td style="text-align: right;">0.095</td>
</tr>
<tr class="odd">
<td style="text-align: left;">3</td>
<td style="text-align: right;">155</td>
<td style="text-align: right;">0.070</td>
</tr>
<tr class="even">
<td style="text-align: left;">4</td>
<td style="text-align: right;">194</td>
<td style="text-align: right;">0.087</td>
</tr>
<tr class="odd">
<td style="text-align: left;">5</td>
<td style="text-align: right;">108</td>
<td style="text-align: right;">0.049</td>
</tr>
<tr class="even">
<td style="text-align: left;">6</td>
<td style="text-align: right;">221</td>
<td style="text-align: right;">0.100</td>
</tr>
<tr class="odd">
<td style="text-align: left;">7</td>
<td style="text-align: right;">188</td>
<td style="text-align: right;">0.085</td>
</tr>
<tr class="even">
<td style="text-align: left;">8</td>
<td style="text-align: right;">175</td>
<td style="text-align: right;">0.079</td>
</tr>
<tr class="odd">
<td style="text-align: left;">9</td>
<td style="text-align: right;">107</td>
<td style="text-align: right;">0.048</td>
</tr>
<tr class="even">
<td style="text-align: left;">10</td>
<td style="text-align: right;">83</td>
<td style="text-align: right;">0.037</td>
</tr>
<tr class="odd">
<td style="text-align: left;">11</td>
<td style="text-align: right;">394</td>
<td style="text-align: right;">0.178</td>
</tr>
<tr class="even">
<td style="text-align: left;">12</td>
<td style="text-align: right;">152</td>
<td style="text-align: right;">0.069</td>
</tr>
</tbody>
</table>
</div>
</div>
</figure>
</div>
</div>
<p>From <a href="#tbl-univar-eda-month" class="quarto-xref">Table&nbsp;<span>3.3</span></a>, we not only see that Month 11 (November) is the most popular month for posting recipes, but we see more specifically that about 17.8% of the recipes in the data were posted that month. We can also more easily identify the least common month to post recipes, Month 10 (October). Only about 3.7% of the recipes in the data were posted that month.</p>
</section><section id="example-distribution-of-season" class="level4 unnumbered"><h4 class="unnumbered anchored" data-anchor-id="example-distribution-of-season">Example: Distribution of <code>season</code>
</h4>
<p>Let’s use the visualizations and summaries introduced in this section to describe the distribution of the season in which a recipe was posted.</p>
<div id="fig-univar-season" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-univar-season-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-univar-season" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-univar-season-1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure"><div aria-describedby="fig-univar-season-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="03-eda_files/figure-html/fig-univar-season-1.png" class="lightbox" data-gallery="fig-univar-season" title="Figure&nbsp;3.4&nbsp;(a): Bar chart"><img src="03-eda_files/figure-html/fig-univar-season-1.png" class="img-fluid figure-img" style="width:100.0%" data-ref-parent="fig-univar-season"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-univar-season-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a) Bar chart
</figcaption></figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-univar-season" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-univar-season-2" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure"><div aria-describedby="fig-univar-season-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="03-eda_files/figure-html/fig-univar-season-2.png" class="lightbox" data-gallery="fig-univar-season" title="Figure&nbsp;3.4&nbsp;(b): Pie chart"><img src="03-eda_files/figure-html/fig-univar-season-2.png" class="img-fluid figure-img" style="width:100.0%" data-ref-parent="fig-univar-season"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-univar-season-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(b) Pie chart
</figcaption></figure>
</div>
</div>
</div>
<div class="quarto-layout-row">
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-univar-season" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-univar-season-3" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure"><div aria-describedby="fig-univar-season-3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="03-eda_files/figure-html/fig-univar-season-3.png" class="lightbox" data-gallery="fig-univar-season" title="Figure&nbsp;3.4&nbsp;(c): Waffle chart"><img src="03-eda_files/figure-html/fig-univar-season-3.png" class="img-fluid figure-img" style="width:100.0%" data-ref-parent="fig-univar-season"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-univar-season-3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(c) Waffle chart
</figcaption></figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-univar-season-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3.4: Distribution of <code>season</code>
</figcaption></figure>
</div>
<div class="cell">
<div id="tbl-univar-eda-season" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure"><figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-univar-eda-season-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;3.4: Frequency table of <code>season</code>
</figcaption><div aria-describedby="tbl-univar-eda-season-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="do-not-create-environment cell caption-top table table-sm table-striped small">
<thead><tr class="header">
<th style="text-align: left;">season</th>
<th style="text-align: right;">n</th>
<th style="text-align: right;">prop</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Winter</td>
<td style="text-align: right;">593</td>
<td style="text-align: right;">0.267</td>
</tr>
<tr class="even">
<td style="text-align: left;">Spring</td>
<td style="text-align: right;">457</td>
<td style="text-align: right;">0.206</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Summer</td>
<td style="text-align: right;">584</td>
<td style="text-align: right;">0.263</td>
</tr>
<tr class="even">
<td style="text-align: left;">Fall</td>
<td style="text-align: right;">584</td>
<td style="text-align: right;">0.263</td>
</tr>
</tbody>
</table>
</div>
</div>
</figure>
</div>
</div>
<div class="yourturn">
<p>Use <a href="#fig-univar-season" class="quarto-xref">Figure&nbsp;<span>3.4</span></a> and <a href="#tbl-univar-eda-season" class="quarto-xref">Table&nbsp;<span>3.4</span></a> to describe the distribution of <code>season</code>.<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a></p>
</div>
<p>Both <code>month</code> and <code>season</code> provide information about when individuals post recipes to the site, so we wouldn’t necessarily need both variables in later stages of the analysis. An advantage to <code>season</code> is that it has fewer levels, so visualizations are easier to interpret, particularly the pie chart and waffle chart, compared to <code>month</code> (<a href="#fig-univar-eda-month-prop" class="quarto-xref">Figure&nbsp;<span>3.3</span></a>). It will also be easier to interpret as we look at relationships between variables. An advantage to <code>month</code> is that we get the more specific detail, such as the large number of recipes posted in November. In practice, we could refer back to the analysis objective to determine which variable to use in later steps.</p>
</section></section><section id="sec-univar-eda-quant" class="level3" data-number="3.4.2"><h3 data-number="3.4.2" class="anchored" data-anchor-id="sec-univar-eda-quant">
<span class="header-section-number">3.4.2</span> Quantitative variable</h3>
<p>As with categorical variables, we examine the univariate distributions of quantitative variables using visualizations and summary statistics. The description of the distribution of a quantitative variable includes the following components: shape, center, spread, and the presence of notable features such as outliers. Let’s examine the distribution of <code>avg_rating</code>, a recipe’s average user rating. The ratings range from 1 to 5, with 1 being the worst and 5 being the best.</p>
<section id="visualize-the-distribution-1" class="level4 unnumbered"><h4 class="unnumbered anchored" data-anchor-id="visualize-the-distribution-1">Visualize the distribution</h4>
<p>A <strong>histogram</strong> is commonly used to visualize the distribution of a quantitative variable. In a histogram, the values of the variable are divided into ranges of equal width (called <em>bins</em>), and there is one bar on the graph for each bin. The height of the bar represents the number of observations that have values within the bin. It is similar to a bar chart, but the bars represent a range of values instead of individual levels.</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-univar-eda-rating" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-univar-eda-rating-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="03-eda_files/figure-html/fig-univar-eda-rating-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-9" title="Figure&nbsp;3.5: Histogram of avg_rating"><img src="03-eda_files/figure-html/fig-univar-eda-rating-1.png" class="img-fluid figure-img" style="width:100.0%"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-univar-eda-rating-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3.5: Histogram of <code>avg_rating</code>
</figcaption></figure>
</div>
</div>
</div>
<p><a href="#fig-univar-eda-rating" class="quarto-xref">Figure&nbsp;<span>3.5</span></a> is the histogram of <code>avg_rating</code>. We now clearly see that a vast majority of the recipes have average ratings between 4 and 5. There are very few recipes with ratings less that 3, and at least one outlier with a an average rating around 1.</p>
<div class="analysis_in_practice">
<p>The width of the bins on a histogram can make it easier or harder to see the features of the distribution. In general, the default bin width set by the statistical software is a good choice. In some cases, however, we may wish to change the width to illuminate more detail in the distribution (decrease bin width) or smooth out the distribution (increase bin width).</p>
<div id="fig-histogram-binwidth" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-histogram-binwidth-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-histogram-binwidth" style="flex-basis: 33.3%;justify-content: flex-start;">
<div id="fig-histogram-binwidth-1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure"><div aria-describedby="fig-histogram-binwidth-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="03-eda_files/figure-html/fig-histogram-binwidth-1.png" class="lightbox" data-gallery="fig-histogram-binwidth" title="Figure&nbsp;3.6&nbsp;(a): Default"><img src="03-eda_files/figure-html/fig-histogram-binwidth-1.png" class="img-fluid figure-img" style="width:100.0%" data-ref-parent="fig-histogram-binwidth"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-histogram-binwidth-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a) Default
</figcaption></figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-histogram-binwidth" style="flex-basis: 33.3%;justify-content: flex-start;">
<div id="fig-histogram-binwidth-2" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure"><div aria-describedby="fig-histogram-binwidth-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="03-eda_files/figure-html/fig-histogram-binwidth-2.png" class="lightbox" data-gallery="fig-histogram-binwidth" title="Figure&nbsp;3.6&nbsp;(b): Small"><img src="03-eda_files/figure-html/fig-histogram-binwidth-2.png" class="img-fluid figure-img" style="width:100.0%" data-ref-parent="fig-histogram-binwidth"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-histogram-binwidth-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(b) Small
</figcaption></figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-histogram-binwidth" style="flex-basis: 33.3%;justify-content: flex-start;">
<div id="fig-histogram-binwidth-3" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure"><div aria-describedby="fig-histogram-binwidth-3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="03-eda_files/figure-html/fig-histogram-binwidth-3.png" class="lightbox" data-gallery="fig-histogram-binwidth" title="Figure&nbsp;3.6&nbsp;(c): Large"><img src="03-eda_files/figure-html/fig-histogram-binwidth-3.png" class="img-fluid figure-img" style="width:100.0%" data-ref-parent="fig-histogram-binwidth"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-histogram-binwidth-3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(c) Large
</figcaption></figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-histogram-binwidth-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3.6: Different histogram bin widths
</figcaption></figure>
</div>
<p><a href="#fig-histogram-binwidth" class="quarto-xref">Figure&nbsp;<span>3.6</span></a> shows examples of the default bin width, very small bin widths, and very large bin widths. Small bin widths adds more detail the histogram. This can make the histogram more challenging to read without adding much useful information for the analysis. In contrast, large bin widths can aggregate the data so much that we lose key information about the distribution.</p>
<p>In general, it is good practice to start with the default bins set by software and make small adjustments, if needed.</p>
</div>
<p><a href="#fig-univar-eda-rating-alt" class="quarto-xref">Figure&nbsp;<span>3.7</span></a> shows two commonly used alternatives to histograms, density plots and boxplots. A <strong>density plot</strong> (<a href="#fig-univar-eda-rating-alt-1" class="quarto-xref">Figure&nbsp;<span>3.7 (a)</span></a>) is often thought of as a “smoothed out histogram”. Similar to a histogram, portions of the distribution with larger heights indicate the parts of the distribution where more observations occur. In general, we are not concerned with the exact values from the density plot, but rather we use the plot for a summary view of the distribution.</p>
<p>A <strong>boxplot</strong> (<a href="#fig-univar-eda-rating-alt-2" class="quarto-xref">Figure&nbsp;<span>3.7 (b)</span></a>) is a visualization that highlights the quartiles and outliers of a distribution. The left line of the box is the first quartile, <span class="math inline">\(Q_1\)</span>, which marks the <span class="math inline">\(25^{th}\)</span> percentile. The middle line in the box is the <strong>median</strong>, <span class="math inline">\(Q_2\)</span>, which marks the <span class="math inline">\(50^{th}\)</span> percentile. The right line of the box is the third quartile, <span class="math inline">\(Q_3\)</span>, which marks the <span class="math inline">\(75^{th}\)</span> percentile. The points on the graph represent outliers.</p>
<p>These visualizations are most useful for describing the shape of a distribution and for identifying outliers. Some features are more apparent on one type of visualization compared to others, so we use the goals of the EDA to help choose which visualization(s) to use.</p>
<div id="fig-univar-eda-rating-alt" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-univar-eda-rating-alt-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-univar-eda-rating-alt" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-univar-eda-rating-alt-1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure"><div aria-describedby="fig-univar-eda-rating-alt-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="03-eda_files/figure-html/fig-univar-eda-rating-alt-1.png" class="lightbox" data-gallery="fig-univar-eda-rating-alt" title="Figure&nbsp;3.7&nbsp;(a): Density plot"><img src="03-eda_files/figure-html/fig-univar-eda-rating-alt-1.png" class="img-fluid figure-img" style="width:100.0%" data-ref-parent="fig-univar-eda-rating-alt"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-univar-eda-rating-alt-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a) Density plot
</figcaption></figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-univar-eda-rating-alt" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-univar-eda-rating-alt-2" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure"><div aria-describedby="fig-univar-eda-rating-alt-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="03-eda_files/figure-html/fig-univar-eda-rating-alt-2.png" class="lightbox" data-gallery="fig-univar-eda-rating-alt" title="Figure&nbsp;3.7&nbsp;(b): Boxplot"><img src="03-eda_files/figure-html/fig-univar-eda-rating-alt-2.png" class="img-fluid figure-img" style="width:100.0%" data-ref-parent="fig-univar-eda-rating-alt"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-univar-eda-rating-alt-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(b) Boxplot
</figcaption></figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-univar-eda-rating-alt-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3.7: Density plot and boxplot of <code>avg_rating</code>
</figcaption></figure>
</div>
</section><section id="describe-the-distribution-shape" class="level4 unnumbered"><h4 class="unnumbered anchored" data-anchor-id="describe-the-distribution-shape">Describe the distribution: Shape</h4>
<p>The description of <strong>shape</strong> includes the skewness and number of modes.</p>
<div id="fig-shape-skew" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-shape-skew-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-shape-skew" style="flex-basis: 33.3%;justify-content: flex-start;">
<div id="fig-shape-skew-1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure"><div aria-describedby="fig-shape-skew-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="03-eda_files/figure-html/fig-shape-skew-1.png" class="lightbox" data-gallery="fig-shape-skew" title="Figure&nbsp;3.8&nbsp;(a): Left-skewed"><img src="03-eda_files/figure-html/fig-shape-skew-1.png" class="img-fluid figure-img" style="width:100.0%" data-ref-parent="fig-shape-skew"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-shape-skew-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a) Left-skewed
</figcaption></figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-shape-skew" style="flex-basis: 33.3%;justify-content: flex-start;">
<div id="fig-shape-skew-2" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure"><div aria-describedby="fig-shape-skew-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="03-eda_files/figure-html/fig-shape-skew-2.png" class="lightbox" data-gallery="fig-shape-skew" title="Figure&nbsp;3.8&nbsp;(b): Right-skewed"><img src="03-eda_files/figure-html/fig-shape-skew-2.png" class="img-fluid figure-img" style="width:100.0%" data-ref-parent="fig-shape-skew"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-shape-skew-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(b) Right-skewed
</figcaption></figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-shape-skew" style="flex-basis: 33.3%;justify-content: flex-start;">
<div id="fig-shape-skew-3" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure"><div aria-describedby="fig-shape-skew-3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="03-eda_files/figure-html/fig-shape-skew-3.png" class="lightbox" data-gallery="fig-shape-skew" title="Figure&nbsp;3.8&nbsp;(c): Symmetric"><img src="03-eda_files/figure-html/fig-shape-skew-3.png" class="img-fluid figure-img" style="width:100.0%" data-ref-parent="fig-shape-skew"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-shape-skew-3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(c) Symmetric
</figcaption></figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-shape-skew-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3.8: Skewness of distribution
</figcaption></figure>
</div>
<p>The skewness is described as left-skewed, right-skewed, or symmetric. <a href="#fig-shape-skew" class="quarto-xref">Figure&nbsp;<span>3.8</span></a> shows examples of a distribution with each type of skewness. If a distribution has a <strong>tail</strong>, a portion of the distribution that covers a wide range of values with very few observations, then the direction of the skewness is determined by the direction of the tail. <a href="#fig-shape-skew-1" class="quarto-xref">Figure&nbsp;<span>3.8 (a)</span></a> shows a <strong>left-skewed</strong> distribution (also called <em>negatively-skewed</em>). The majority of the observations take values at the higher end of the range, and the tail extends out to the lower values (the left side) of the distribution. An example of a left-skewed distribution is a typical distribution of online ratings for a product. Most online ratings tend to be very high, with few people giving low ratings, as we have observed with <code>avg_rating</code>.</p>
<p><a href="#fig-shape-skew-2" class="quarto-xref">Figure&nbsp;<span>3.8 (b)</span></a> is an example of a <strong>right-skewed</strong> distribution (also called <em>positively-skewed</em>). The majority of the observations take values at the lower end of the range, and the tail extends out to the higher values (the right side) of the distribution. An example of a right-skewed distribution is a distribution of annual income among adults in the United States. The income for most adults lie within a particular range, and a few adults have annual incomes far greater than the majority of the population (e.g., professional athletes, celebrities, etc.)</p>
<p><a href="#fig-shape-skew-3" class="quarto-xref">Figure&nbsp;<span>3.8 (c)</span></a> is an example of a <strong>symmetric</strong> distribution. If we divide the distribution down the middle, both sides of the distribution are approximately the same. Another way to think about it is if we fold the distribution along the center, the left side would fit almost perfectly on the right side. An example of a symmetric distribution is the distribution of shoe size among adults. A majority of individuals have a shoe size around the center of the distribution, and a small number of individuals have very small or very large shoe sizes.</p>
<div id="fig-shape-mode" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-shape-mode-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-shape-mode" style="flex-basis: 33.3%;justify-content: flex-start;">
<div id="fig-shape-mode-1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure"><div aria-describedby="fig-shape-mode-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="03-eda_files/figure-html/fig-shape-mode-1.png" class="lightbox" data-gallery="fig-shape-mode" title="Figure&nbsp;3.9&nbsp;(a): Unimodal"><img src="03-eda_files/figure-html/fig-shape-mode-1.png" class="img-fluid figure-img" style="width:100.0%" data-ref-parent="fig-shape-mode"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-shape-mode-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a) Unimodal
</figcaption></figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-shape-mode" style="flex-basis: 33.3%;justify-content: flex-start;">
<div id="fig-shape-mode-2" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure"><div aria-describedby="fig-shape-mode-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="03-eda_files/figure-html/fig-shape-mode-2.png" class="lightbox" data-gallery="fig-shape-mode" title="Figure&nbsp;3.9&nbsp;(b): Bimodal"><img src="03-eda_files/figure-html/fig-shape-mode-2.png" class="img-fluid figure-img" style="width:100.0%" data-ref-parent="fig-shape-mode"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-shape-mode-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(b) Bimodal
</figcaption></figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-shape-mode" style="flex-basis: 33.3%;justify-content: flex-start;">
<div id="fig-shape-mode-3" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure"><div aria-describedby="fig-shape-mode-3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="03-eda_files/figure-html/fig-shape-mode-3.png" class="lightbox" data-gallery="fig-shape-mode" title="Figure&nbsp;3.9&nbsp;(c): Multimodal"><img src="03-eda_files/figure-html/fig-shape-mode-3.png" class="img-fluid figure-img" style="width:100.0%" data-ref-parent="fig-shape-mode"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-shape-mode-3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(c) Multimodal
</figcaption></figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-shape-mode-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3.9: Modality of distribution
</figcaption></figure>
</div>
<p>In addition to the skewness, the shape of the distribution includes the <strong>modality</strong>, number of peaks. <a href="#fig-shape-mode" class="quarto-xref">Figure&nbsp;<span>3.9</span></a> shows examples of distributions with three different modalities: unimodal, bimodal, and multimodal. <a href="#fig-shape-mode-1" class="quarto-xref">Figure&nbsp;<span>3.9 (a)</span></a> is an example of a <strong>unimodal</strong> distribution, a distribution with a single peak. The distribution of annual incomes for adults in the United States is an example of a unimodal distribution.</p>
<p><a href="#fig-shape-mode-2" class="quarto-xref">Figure&nbsp;<span>3.9 (b)</span></a> is an example of a <strong>bimodal</strong> distribution, a distribution with two peaks. Bimodal distributions generally indicate there are at least two subgroups represented in the data that we may want to take into account in the analysis. An example of a bimodal distribution is a city’s average daily temperatures in a city across a year. If the city has four distinct seasons, there will typically be a peak around the mean temperature in the fall and winter (low temperatures) and a peak around the mean temperature for spring and summer (high temperatures).</p>
<p><a href="#fig-shape-mode-3" class="quarto-xref">Figure&nbsp;<span>3.9 (c)</span></a> is an example of a <strong>multimodal</strong> distribution, a distribution with three or more peaks. Similar to bimodal distributions, multimodal distributions generally indicate there are multiple subgroups in the data we want to take into account i the analysis. An example of a multimodal distribution is the distribution of heights for school-aged children across a large age range, about 5 - 18 years old. There will be a peak around the mean height for elementary school children (around ages 5 - 9), a peak around the mean height middle school children (around ages 10 - 14), and a peak around the mean height for high school children (around ages 14 - 18).</p>
<div class="analysis_in_practice">
<p>To determine the modality of a plot, think about using a pencil or finger to trace along the top of the distribution. The modality, then, is the number of peaks in the traced outline.</p>
<p>As we trace the distribution, we don’t need to hit every small dip in the distribution, because these small dips are often noise in the data. Rather, we are concerned about large peaks and valleys in the distribution.</p>
</div>
<div class="yourturn">
<p>Use <a href="#fig-univar-eda-rating" class="quarto-xref">Figure&nbsp;<span>3.5</span></a> and <a href="#fig-univar-eda-rating-alt" class="quarto-xref">Figure&nbsp;<span>3.7</span></a> to describe the shape of the distribution of <code>avg_rating</code>.<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a></p>
</div>
</section><section id="summarize-the-distribution-1" class="level4 unnumbered"><h4 class="unnumbered anchored" data-anchor-id="summarize-the-distribution-1">Summarize the distribution</h4>
<p>In addition to visualizations, we compute summary statistics to more precisely describe aspects of the distribution. The summary statistics for <code>avg_rating</code> are in <a href="#tbl-univar-eda-rating" class="quarto-xref">Table&nbsp;<span>3.5</span></a>.</p>
<div class="cell">
<div id="tbl-univar-eda-rating" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure"><figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-univar-eda-rating-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;3.5: Summary statistics for <code>avg_rating</code>
</figcaption><div aria-describedby="tbl-univar-eda-rating-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="do-not-create-environment cell caption-top table table-sm table-striped small">
<thead><tr class="header">
<th style="text-align: right;">Prop Complete</th>
<th style="text-align: right;">Mean</th>
<th style="text-align: right;">SD</th>
<th style="text-align: right;">Min</th>
<th style="text-align: right;">Q1</th>
<th style="text-align: right;">Median</th>
<th style="text-align: right;">Q3</th>
<th style="text-align: right;">Max</th>
</tr></thead>
<tbody><tr class="odd">
<td style="text-align: right;">0.956</td>
<td style="text-align: right;">4.51</td>
<td style="text-align: right;">0.401</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">4.3</td>
<td style="text-align: right;">4.6</td>
<td style="text-align: right;">4.8</td>
<td style="text-align: right;">5</td>
</tr></tbody>
</table>
</div>
</div>
</figure>
</div>
</div>
<p>We will primarily use these summary statistics to describe the center and spread of the quantitative distribution. We have also computed the statistic <code>Prop Complete</code> that is the proportion of observations that have a reported value for the variable. If the proportion is less than 1, then there are observations with missing values for the variable. We need to address the missingness before moving forward with the analysis. Strategies for dealing with missing data are in <a href="13-special-topics.html" class="quarto-xref"><span>Chapter 13</span></a>.</p>
<p>Let’s use the summary statistics to describe the center and spread of the distribution.</p>
</section><section id="describe-the-distribution-center" class="level4 unnumbered"><h4 class="unnumbered anchored" data-anchor-id="describe-the-distribution-center">Describe the distribution: Center</h4>
<p>We use the <strong>mean</strong> (also called <em>average</em>) or <strong>median</strong> (also called <span class="math inline">\(Q_2\)</span>, the <span class="math inline">\(2^{nd}\)</span> quartile, <span class="math inline">\(50^{th}\)</span> percentile) to describe the <strong>center</strong> of a distribution. To determine which measure is the better representation of the center, consider the shape of the distribution and whether there are outliers. If the distribution is approximately symmetric with no (or few) outliers, then the mean is the preferred measure of center. The mean is impacted by skewness and outliers, so the median is preferred if skewness or outliers are present.</p>
<div class="analysis_in_practice">
<p>We prefer the mean over the median to describe the center of the distribution when the criteria mentioned above are met. This is because the mean is computed using all the observations in the data set. In contrast, the median is determined based on the one or two observations in the middle to the distribution. In general, we prefer statistics that use all the data if they will be representative of the distribution and not skewed by a few extreme observations.</p>
</div>
<p>From <a href="#tbl-univar-eda-rating" class="quarto-xref">Table&nbsp;<span>3.5</span></a>, the mean value of <code>avg_rating</code> in the data is about 4.509 and the median is 4.6. The distribution of <code>avg_rating</code> is left-skewed and has outliers (see <a href="#fig-univar-eda-rating" class="quarto-xref">Figure&nbsp;<span>3.5</span></a>), so the median is the more representative measure of the center of the distribution.</p>
</section><section id="describe-the-distribution-spread" class="level4 unnumbered"><h4 class="unnumbered anchored" data-anchor-id="describe-the-distribution-spread">Describe the distribution: Spread</h4>
<p>The standard deviation, interquartile range (IQR), and range are measures used to describe the <strong>spread</strong> of a distribution. If shape of the distribution is approximately symmetric with no (or few) outliers, the <strong>standard deviation</strong>, a measure of the average distance between each observation and the mean, is the preferred measure of the spread. Because the mean is used to to compute the standard deviation, it is impacted by skewness and outliers. When the distribution is skewed or there are outliers, the <strong>interquartile range (IQR)</strong> is the more representative measure of spread. The IQR is the difference between the <span class="math inline">\(75^{th}\)</span> and <span class="math inline">\(25^{th}\)</span> percentiles, <span class="math inline">\(Q_3 - Q_1\)</span>.</p>
<p>The <strong>range</strong> <span class="math inline">\((\text{max} - \text{min})\)</span> should be used with caution and not reported as the only measure of spread. Because it only takes into account the minimum and maximum values, it only gives describes the spread of the extreme ends of the distribution, which is not typically the spread of the majority of the data. Additionally, it is impacted by skewness and outliers, and thus can make the spread of a distribution appear larger than what is true for the vast majority of the data.</p>
<div class="analysis_in_practice">
<p>To describe the center and spread of a distribution, use</p>
<ul>
<li><p>the mean and standard deviation if there is no extreme skewness or outliers, or</p></li>
<li><p>the median and IQR if skewness or outliers are present</p></li>
</ul>
</div>
<p>From <a href="#tbl-univar-eda-rating" class="quarto-xref">Table&nbsp;<span>3.5</span></a>, the standard deviation of <code>avg_rating</code> is 0.401, so the average rating for each recipe is about 0.401 points from the mean rating of 4.509, on average. The IQR is 0.5. This means the spread of the middle 50% of the distribution, <span class="math inline">\(Q_3 - Q_1\)</span> is about 0.5 points. Lastly, the range, the distance between the minimum and maximum values, is 4 .</p>
<p>Because the distribution of <code>avg_rating</code> is skewed with outliers, the IQR 0.5 is the most representative measure of spread.</p>
<!--# does it make sense to put something about missing values here?-->
</section><section id="describe-the-distribution-outliers" class="level4 unnumbered"><h4 class="unnumbered anchored" data-anchor-id="describe-the-distribution-outliers">Describe the distribution: Outliers</h4>
<p>The last part of describing the distribution of a quantitative variable is the presence of outliers. Outliers can be valid observations that are very different from the rest of the data (e.g,. a professional athlete’s annual salary in the distribution of annual salaries for 1000 randomly sampled adults in the United States). Sometimes, however, they indicate errors in the data (e.g., a person’s age is recorded as 150 years old).</p>
<p>Outliers are most visible in histograms (<a href="#fig-univar-eda-rating" class="quarto-xref">Figure&nbsp;<span>3.5</span></a>) and boxplots (<a href="#fig-univar-eda-rating-alt-2" class="quarto-xref">Figure&nbsp;<span>3.7 (b)</span></a>). It is more challenging to differentiate between outliers and skewness in a density plot. From the histogram, we visually assess outliers by looking for observations that are set apart on the graph, typically very high or very low. For example, in <a href="#fig-univar-eda-rating" class="quarto-xref">Figure&nbsp;<span>3.5</span></a>, there appears to be at least a few outliers that have low average ratings around 1 and 2.</p>
<p>On a boxplot, the outliers are marked as points on the plot. An observation is considered an outlier if it is less than <span class="math inline">\(Q_1 - 1.5 \times IQR\)</span> or greater than <span class="math inline">\(Q_3 + 1.5 \times IQR\)</span>. Based on the boxplot in <a href="#fig-univar-eda-rating-alt" class="quarto-xref">Figure&nbsp;<span>3.7</span></a>, observations with average ratings about 3.5 or less have been identified as outliers. Based on this plot, there are no outliers on the high end of the distribution of average rating.</p>
<p>If there are outliers due to data entry errors, we need to input the correct values, if possible, or remove the observations from the analysis data. If there are a lot of data entry errors for an individual variable, we may consider removing that variable from the analysis and thus retaining more observations for the analysis. If outliers are unusual yet valid observations, there are options on how to handle them based on the analysis goals and their impact on the regression analysis results. We discuss these options further in <span class="quarto-unresolved-ref">?sec-handle-outliers</span>.</p>
<!--# add this about notable features here? Unusual patterns are those that may not follow what we would expect, such as a mode at an unexpected value. This commonly happens in practice with modes at values such as -1 or 0, which are intended to represent missing data rather than actual observed values.-->
<div class="analysis_in_practice">
<p>The description of the distribution of a quantitative variable includes the following:</p>
<ul>
<li><p><strong>Shape</strong>: Skewness and modality of distribution</p></li>
<li><p><strong>Center</strong>: Middle of the distribution (measured by mean or median)</p></li>
<li><p><strong>Spread</strong>: How far apart the observations are (measured by standard deviation or IQR)</p></li>
<li><p><strong>Outliers</strong>: Observations that are far from the rest of the data</p></li>
</ul>
</div>
</section><section id="example-distribution-of-cook_time" class="level4 unnumbered"><h4 class="unnumbered anchored" data-anchor-id="example-distribution-of-cook_time">Example: Distribution of <code>cook_time</code>
</h4>
<p>Let’s use the visualizations and summary statistics introduced in the previous section to describe the distribution of <code>cook_time</code>, the amount of time (in minutes) it takes to cook a dish.</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-univar-eda-cook-time" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-univar-eda-cook-time-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="03-eda_files/figure-html/fig-univar-eda-cook-time-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-21" title="Figure&nbsp;3.10: Distribution of cook_time"><img src="03-eda_files/figure-html/fig-univar-eda-cook-time-1.png" class="img-fluid figure-img" style="width:100.0%"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-univar-eda-cook-time-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3.10: Distribution of <code>cook_time</code>
</figcaption></figure>
</div>
</div>
</div>
<div class="cell">
<div id="tbl-univar-eda-cook-time" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure"><figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-univar-eda-cook-time-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;3.6: Summary statistics for <code>cook_time</code>
</figcaption><div aria-describedby="tbl-univar-eda-cook-time-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="do-not-create-environment cell caption-top table table-sm table-striped small">
<thead><tr class="header">
<th style="text-align: right;">Prop Complete</th>
<th style="text-align: right;">Mean</th>
<th style="text-align: right;">SD</th>
<th style="text-align: right;">Min</th>
<th style="text-align: right;">Q1</th>
<th style="text-align: right;">Median</th>
<th style="text-align: right;">Q3</th>
<th style="text-align: right;">Max</th>
</tr></thead>
<tbody><tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: right;">41.8</td>
<td style="text-align: right;">63.2</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">25</td>
<td style="text-align: right;">45</td>
<td style="text-align: right;">600</td>
</tr></tbody>
</table>
</div>
</div>
</figure>
</div>
</div>
<div class="yourturn">
<p>Use the visualizations in <a href="#fig-univar-eda-cook-time" class="quarto-xref">Figure&nbsp;<span>3.10</span></a> and summary statistics in <a href="#tbl-univar-eda-cook-time" class="quarto-xref">Table&nbsp;<span>3.6</span></a> to describe the distribution of <code>cook_time</code>. Include the shape, center, spread, and potential outliers in the description.<a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a></p>
</div>
<p>When a distribution has extreme outliers, such as the distribution of <code>cook_time</code>, the outliers can compress the majority of the observations on the graph, making it difficult to get a detailed view of the majority of the distribution. In this case, we can also make a visualization without the outliers to get a better view.</p>
<p>About 95% of the observations have cook times of 150 minutes or less, so we create a new histogram that only includes those observations.</p>
<div id="fig-univar-eda-cook-time-zoom" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-univar-eda-cook-time-zoom-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-univar-eda-cook-time-zoom" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-univar-eda-cook-time-zoom-1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure"><div aria-describedby="fig-univar-eda-cook-time-zoom-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="03-eda_files/figure-html/fig-univar-eda-cook-time-zoom-1.png" class="lightbox" data-gallery="fig-univar-eda-cook-time-zoom" title="Figure&nbsp;3.11&nbsp;(a): All observations"><img src="03-eda_files/figure-html/fig-univar-eda-cook-time-zoom-1.png" class="img-fluid figure-img" style="width:100.0%" data-ref-parent="fig-univar-eda-cook-time-zoom"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-univar-eda-cook-time-zoom-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a) All observations
</figcaption></figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-univar-eda-cook-time-zoom" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-univar-eda-cook-time-zoom-2" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure"><div aria-describedby="fig-univar-eda-cook-time-zoom-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="03-eda_files/figure-html/fig-univar-eda-cook-time-zoom-2.png" class="lightbox" data-gallery="fig-univar-eda-cook-time-zoom" title="Figure&nbsp;3.11&nbsp;(b): Cook time 150 minutes or less"><img src="03-eda_files/figure-html/fig-univar-eda-cook-time-zoom-2.png" class="img-fluid figure-img" style="width:100.0%" data-ref-parent="fig-univar-eda-cook-time-zoom"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-univar-eda-cook-time-zoom-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(b) Cook time 150 minutes or less
</figcaption></figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-univar-eda-cook-time-zoom-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3.11: Original versus zoomed-in distribution of <code>cook_time</code>
</figcaption></figure>
</div>
<p>In <a href="#fig-univar-eda-cook-time-zoom" class="quarto-xref">Figure&nbsp;<span>3.11</span></a>, we compare a visualization of the full distribution with one that only includes recipes with cook time 150 minutes or less. For example, in <a href="#fig-univar-eda-cook-time-zoom-2" class="quarto-xref">Figure&nbsp;<span>3.11 (b)</span></a>, we get a lot of detail about the distribution of recipes with cook time 50 minutes or less. In contrast, all these recipes are contained in the first three bars of the histogram in <a href="#fig-univar-eda-cook-time-zoom-1" class="quarto-xref">Figure&nbsp;<span>3.11 (a)</span></a>.</p>
</section></section></section><section id="sec-bivar-eda" class="level2" data-number="3.5"><h2 data-number="3.5" class="anchored" data-anchor-id="sec-bivar-eda">
<span class="header-section-number">3.5</span> Relationship between two variables</h2>
<p>After we have explored the distributions of individual variables in the univariate EDA, we explore the relationships between variables. We begin with <strong>bivariate EDA</strong>, the exploration of the relationship between two variables. In <a href="#sec-multivar-eda" class="quarto-xref"><span>Section 3.6</span></a>, we extend this to the relationship between three or more variables. There are three types of bivariate relationships: relationship between two quantitative variables, relationship between one quantitative and one categorical variable, and the relationship between two categorical variables.</p>
<section id="sec-bivar-quant-eda" class="level3" data-number="3.5.1"><h3 data-number="3.5.1" class="anchored" data-anchor-id="sec-bivar-quant-eda">
<span class="header-section-number">3.5.1</span> Two quantitative variables</h3>
<p>Similar to univariate EDA, we use visualizations and summary statistics to explore the relationship between two variables. The components to describe the relationship between two quantitative variables include the shape, direction, and potential outliers. We use a scatterplot to visualize the relationship and the correlation to quantify it.</p>
<section id="visualize-the-relationship" class="level4 unnumbered"><h4 class="unnumbered anchored" data-anchor-id="visualize-the-relationship">Visualize the relationship</h4>
<p>A <strong>scatterplot</strong> is a plot for two quantitative variables, such that one variable is on the x-axis (horizontal axis), one variable is on the y-axis (vertical axis), and each observation is represented by a point. Let’s take a look at the relationship between the number of calories per serving (<code>calories</code>) and the total grams of protein per serving (<code>protein</code>). <!--# do i need a motivating sentence? Add something here about current obsession with protein and how one might wonder how the protein content relates to the total calories ( can thsi be a measure of how filling a meal is? ) in the meals.?--></p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-bivar-eda-protein-calories" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-bivar-eda-protein-calories-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="03-eda_files/figure-html/fig-bivar-eda-protein-calories-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-24" title="Figure&nbsp;3.12: Relationship between calories and protein"><img src="03-eda_files/figure-html/fig-bivar-eda-protein-calories-1.png" class="img-fluid figure-img" style="width:100.0%"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-bivar-eda-protein-calories-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3.12: Relationship between <code>calories</code> and <code>protein</code>
</figcaption></figure>
</div>
</div>
</div>
<p><a href="#fig-bivar-eda-protein-calories" class="quarto-xref">Figure&nbsp;<span>3.12</span></a> is the scatterplot with <code>calories</code> on the x-axis and <code>protein</code> on the y-axis. From the visualization, we can see the shape and direction of the relationship, along with outliers. We also get an indication of the strength of the relationship that we will quantify using summary statistics.</p>
<!--# do i need to mention this? We may need to check some of these protein and calorie estimates - did some people misinterpret how to post these values. This is a good reason to do the EDA and fix before the analysis.-->
</section><section id="describe-the-relationship-shape-and-direction" class="level4 unnumbered"><h4 class="unnumbered anchored" data-anchor-id="describe-the-relationship-shape-and-direction">Describe the relationship: Shape and direction</h4>
<p>In bivariate EDA, the <strong>shape</strong> is a description of the overall trend of the points in the scatterplot. Common shapes we are linear, quadratic, and logarithmic. There may also be no clear trend. These are shown in <a href="#fig-bivariate-shape" class="quarto-xref">Figure&nbsp;<span>3.13</span></a>. <a href="#fig-bivariate-shape" class="quarto-xref">Figure&nbsp;<span>3.13</span></a> shows examples of the commonly observed shapes. When we do linear regression, we generally assume that the relationship between the response variable and the predictor variable(s) is linear as in <a href="#fig-bivariate-shape-1" class="quarto-xref">Figure&nbsp;<span>3.13 (a)</span></a>. Additionally, there are methods to account for quadratic (<a href="#fig-bivariate-shape-2" class="quarto-xref">Figure&nbsp;<span>3.13 (b)</span></a>) and logarithmic (<a href="#fig-bivariate-shape-3" class="quarto-xref">Figure&nbsp;<span>3.13 (c)</span></a>) relationships in the model. A scatterplot with no clear trend as in <a href="#fig-bivariate-shape-4" class="quarto-xref">Figure&nbsp;<span>3.13 (d)</span></a> indicates there is little to no relationship between the two variables.</p>
<div id="fig-bivariate-shape" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-bivariate-shape-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-bivariate-shape" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-bivariate-shape-1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure"><div aria-describedby="fig-bivariate-shape-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="03-eda_files/figure-html/fig-bivariate-shape-1.png" class="lightbox" data-gallery="fig-bivariate-shape" title="Figure&nbsp;3.13&nbsp;(a): Linear"><img src="03-eda_files/figure-html/fig-bivariate-shape-1.png" class="img-fluid figure-img" style="width:100.0%" data-ref-parent="fig-bivariate-shape"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-bivariate-shape-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a) Linear
</figcaption></figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-bivariate-shape" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-bivariate-shape-2" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure"><div aria-describedby="fig-bivariate-shape-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="03-eda_files/figure-html/fig-bivariate-shape-2.png" class="lightbox" data-gallery="fig-bivariate-shape" title="Figure&nbsp;3.13&nbsp;(b): Quadratic"><img src="03-eda_files/figure-html/fig-bivariate-shape-2.png" class="img-fluid figure-img" style="width:100.0%" data-ref-parent="fig-bivariate-shape"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-bivariate-shape-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(b) Quadratic
</figcaption></figure>
</div>
</div>
</div>
<div class="quarto-layout-row">
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-bivariate-shape" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-bivariate-shape-3" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure"><div aria-describedby="fig-bivariate-shape-3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="03-eda_files/figure-html/fig-bivariate-shape-3.png" class="lightbox" data-gallery="fig-bivariate-shape" title="Figure&nbsp;3.13&nbsp;(c): Logarithmic"><img src="03-eda_files/figure-html/fig-bivariate-shape-3.png" class="img-fluid figure-img" style="width:100.0%" data-ref-parent="fig-bivariate-shape"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-bivariate-shape-3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(c) Logarithmic
</figcaption></figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-bivariate-shape" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-bivariate-shape-4" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure"><div aria-describedby="fig-bivariate-shape-4-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="03-eda_files/figure-html/fig-bivariate-shape-4.png" class="lightbox" data-gallery="fig-bivariate-shape" title="Figure&nbsp;3.13&nbsp;(d): No clear shape"><img src="03-eda_files/figure-html/fig-bivariate-shape-4.png" class="img-fluid figure-img" style="width:100.0%" data-ref-parent="fig-bivariate-shape"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-bivariate-shape-4-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(d) No clear shape
</figcaption></figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-bivariate-shape-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3.13: Shapes of bivariate relationships
</figcaption></figure>
</div>
<p>If the shape of the relationship is <strong>monotonic</strong>, always increasing or always decreasing, then we describe the direction of the relationship in addition to the shape. Linear (<a href="#fig-bivariate-shape-1" class="quarto-xref">Figure&nbsp;<span>3.13 (a)</span></a>) and logarithmic (<a href="#fig-bivariate-shape-3" class="quarto-xref">Figure&nbsp;<span>3.13 (c)</span></a>) trends are examples of monotonic relationships. There are three potential directions: positive, negative, and no direction. These are illustrated in <a href="#fig-bivariate-direction" class="quarto-xref">Figure&nbsp;<span>3.14</span></a>.</p>
<div id="fig-bivariate-direction" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-bivariate-direction-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-bivariate-direction" style="flex-basis: 33.3%;justify-content: flex-start;">
<div id="fig-bivariate-direction-1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure"><div aria-describedby="fig-bivariate-direction-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="03-eda_files/figure-html/fig-bivariate-direction-1.png" class="lightbox" data-gallery="fig-bivariate-direction" title="Figure&nbsp;3.14&nbsp;(a): Positive"><img src="03-eda_files/figure-html/fig-bivariate-direction-1.png" class="img-fluid figure-img" style="width:100.0%" data-ref-parent="fig-bivariate-direction"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-bivariate-direction-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a) Positive
</figcaption></figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-bivariate-direction" style="flex-basis: 33.3%;justify-content: flex-start;">
<div id="fig-bivariate-direction-2" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure"><div aria-describedby="fig-bivariate-direction-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="03-eda_files/figure-html/fig-bivariate-direction-2.png" class="lightbox" data-gallery="fig-bivariate-direction" title="Figure&nbsp;3.14&nbsp;(b): Negative"><img src="03-eda_files/figure-html/fig-bivariate-direction-2.png" class="img-fluid figure-img" style="width:100.0%" data-ref-parent="fig-bivariate-direction"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-bivariate-direction-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(b) Negative
</figcaption></figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-bivariate-direction" style="flex-basis: 33.3%;justify-content: flex-start;">
<div id="fig-bivariate-direction-3" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure"><div aria-describedby="fig-bivariate-direction-3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="03-eda_files/figure-html/fig-bivariate-direction-3.png" class="lightbox" data-gallery="fig-bivariate-direction" title="Figure&nbsp;3.14&nbsp;(c): No direction"><img src="03-eda_files/figure-html/fig-bivariate-direction-3.png" class="img-fluid figure-img" style="width:100.0%" data-ref-parent="fig-bivariate-direction"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-bivariate-direction-3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(c) No direction
</figcaption></figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-bivariate-direction-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3.14: Direction of bivariate relationships
</figcaption></figure>
</div>
<p>The direction is <strong>positive</strong> <a href="#fig-bivariate-direction-1" class="quarto-xref">Figure&nbsp;<span>3.14 (a)</span></a> if one variable tends to increase as the other increases. The direction is <strong>negative</strong> <a href="#fig-bivariate-direction-2" class="quarto-xref">Figure&nbsp;<span>3.14 (b)</span></a> if one variable tends to decrease as the other increases. Lastly, there <strong>no direction</strong> <a href="#fig-bivariate-direction-3" class="quarto-xref">Figure&nbsp;<span>3.14 (c)</span></a> if there is no clear pattern in how one variable changes as the other changes.</p>
<p>From <a href="#fig-bivar-eda-protein-calories" class="quarto-xref">Figure&nbsp;<span>3.12</span></a>, relationship between <code>calories</code> and <code>protein</code> is positive and linear. In general, recipes with more calories per serving tend to also have more grams of protein per serving.</p>
</section><section id="describe-the-relationship-strength" class="level4 unnumbered"><h4 class="unnumbered anchored" data-anchor-id="describe-the-relationship-strength">Describe the relationship: Strength</h4>
<p>The <strong>strength</strong> of the relationship between two variables is a measure how closely the observations follow the overall pattern or shape. Points that are tightly clustered together indicate a stronger relationship than points that are more dispersed. <a href="#fig-bivariate-strength" class="quarto-xref">Figure&nbsp;<span>3.15</span></a> shows examples of linear relationships with different strengths.</p>
<div id="fig-bivariate-strength" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-bivariate-strength-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-bivariate-strength" style="flex-basis: 33.3%;justify-content: flex-start;">
<div id="fig-bivariate-strength-1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure"><div aria-describedby="fig-bivariate-strength-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="03-eda_files/figure-html/fig-bivariate-strength-1.png" class="lightbox" data-gallery="fig-bivariate-strength" title="Figure&nbsp;3.15&nbsp;(a): Strong"><img src="03-eda_files/figure-html/fig-bivariate-strength-1.png" class="img-fluid figure-img" style="width:100.0%" data-ref-parent="fig-bivariate-strength"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-bivariate-strength-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a) Strong
</figcaption></figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-bivariate-strength" style="flex-basis: 33.3%;justify-content: flex-start;">
<div id="fig-bivariate-strength-2" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure"><div aria-describedby="fig-bivariate-strength-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="03-eda_files/figure-html/fig-bivariate-strength-2.png" class="lightbox" data-gallery="fig-bivariate-strength" title="Figure&nbsp;3.15&nbsp;(b): Moderate"><img src="03-eda_files/figure-html/fig-bivariate-strength-2.png" class="img-fluid figure-img" style="width:100.0%" data-ref-parent="fig-bivariate-strength"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-bivariate-strength-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(b) Moderate
</figcaption></figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-bivariate-strength" style="flex-basis: 33.3%;justify-content: flex-start;">
<div id="fig-bivariate-strength-3" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure"><div aria-describedby="fig-bivariate-strength-3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="03-eda_files/figure-html/fig-bivariate-strength-3.png" class="lightbox" data-gallery="fig-bivariate-strength" title="Figure&nbsp;3.15&nbsp;(c): Weak"><img src="03-eda_files/figure-html/fig-bivariate-strength-3.png" class="img-fluid figure-img" style="width:100.0%" data-ref-parent="fig-bivariate-strength"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-bivariate-strength-3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(c) Weak
</figcaption></figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-bivariate-strength-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3.15: Strength of bivariate relationships
</figcaption></figure>
</div>
<p>When the shape between two variables is linear, we use the correlation to quantify the strength of the relationship. The <strong>correlation</strong>, denoted <span class="math inline">\(r\)</span>, is a measure of the strength and direction of the <u>linear relationship</u> between two variables. The correlation ranges from -1 to 1, with <span class="math inline">\(r \approx -1\)</span> indicating a nearly perfect negative linear relationship, <span class="math inline">\(r \approx 1\)</span> indicating a nearly perfect positive relationship, and <span class="math inline">\(r \approx 0\)</span> indicating a very weak to no linear relationship.</p>
<p>The direction of the linear relationship between two variable is indicated by the sign of the correlation. The strength is indicated by the magnitude of the correlation, <span class="math inline">\(|r|\)</span>.</p>
<p>Let’s use the correlation to describe the strength of the linear relationship between <code>calories</code> and <code>protein</code>. The correlation between the two variables is 0.705. Based on the scatterplot in <a href="#fig-bivar-eda-protein-calories" class="quarto-xref">Figure&nbsp;<span>3.12</span></a> and the correlation, there is a strong, positive linear relationship between the two variables.</p>
<div class="analysis_in_practice">
<p>Correlation measures the strength of the <em>linear</em> relationship, so values of correlation close to 0 do not necessarily mean there is no relationship between the two variables. In the graphs below, both relationships have correlation with magnitudes around <span class="math inline">\(|r| = 0.12\)</span> (0.12 and -0.12 to be exact). From the scatterplots, however, we see a clear relationship between the two variables. The relationship is quadratic and not well described by a line, so the correlation is low.</p>
<p>It is important to use visualizations alongside summary statistics to provide additional context and reveal features that may be hidden by the summary statistic alone.</p>
<div id="fig-low-corr-examples" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-low-corr-examples-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-low-corr-examples" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-low-corr-examples-1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure"><div aria-describedby="fig-low-corr-examples-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="03-eda_files/figure-html/fig-low-corr-examples-1.png" class="lightbox" data-gallery="fig-low-corr-examples" title="Figure&nbsp;3.16&nbsp;(a): |r| = 0.12"><img src="03-eda_files/figure-html/fig-low-corr-examples-1.png" class="img-fluid figure-img" style="width:100.0%" data-ref-parent="fig-low-corr-examples"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-low-corr-examples-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a) |r| = 0.12
</figcaption></figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-low-corr-examples" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-low-corr-examples-2" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure"><div aria-describedby="fig-low-corr-examples-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="03-eda_files/figure-html/fig-low-corr-examples-2.png" class="lightbox" data-gallery="fig-low-corr-examples" title="Figure&nbsp;3.16&nbsp;(b): |r| = -0.12"><img src="03-eda_files/figure-html/fig-low-corr-examples-2.png" class="img-fluid figure-img" style="width:100.0%" data-ref-parent="fig-low-corr-examples"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-low-corr-examples-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(b) |r| = -0.12
</figcaption></figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-low-corr-examples-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3.16: Relationships with low correlation
</figcaption></figure>
</div>
</div>
</section><section id="describe-the-relationship-outliers-and-notable-features" class="level4 unnumbered"><h4 class="unnumbered anchored" data-anchor-id="describe-the-relationship-outliers-and-notable-features">Describe the relationship: Outliers and notable features</h4>
<p>When looking at the relationship between two variables, outliers are observations fall outside the general trend of the data. Outliers may have out-sized influence when building a regression model. Therefore, it is important to identify outliers in the EDA, so we can take them into account when evaluating the results from the regression analysis. We discuss how the impact of outliers on regression modeling in <a href="06-slr-conditions.html#sec-outliers-impact" class="quarto-xref"><span>Section 6.4.5</span></a>.</p>
<p>There are outliers in the relationship between <code>calories</code> and <code>protein</code> in <a href="#fig-bivar-eda-protein-calories" class="quarto-xref">Figure&nbsp;<span>3.12</span></a>. In particular, there are two observations with over 1500 calories per serving and protein close to 0 grams. These are far outside the general trend of the data, as the amount of protein is lower than expected based on the other observations with high calories per serving.</p>
<p>In addition to identifying outliers, we want to make note of other interesting features in the relationship. These features are most often observed from visualizations. For example, the variability (spread) in the values of one variable may increase as the values of the other increases. We see this in the relationship between <code>protein</code> and <code>calories</code> in <a href="#fig-bivar-eda-protein-calories" class="quarto-xref">Figure&nbsp;<span>3.12</span></a>, as the variability in protein (as seen by the vertical spread of the points) increases as the calories increase. Patterns like this are important to identify, because they directly relate to the assumptions we make when doing linear regression (<a href="05-slr-inference.html#sec-slr-foundation" class="quarto-xref"><span>Section 5.3</span></a>). Recognizing these potential issues in the EDA can help us make decisions to address potential issues in the analysis.</p>
<div class="analysis_in_practice">
<p>The description of the relationship between two quantitative variables includes the following:</p>
<ul>
<li><p><strong>Shape</strong>: Overall pattern or trend in the data (e.g., linear, quadratic, etc.)</p></li>
<li><p><strong>Direction:</strong> For a monotonic relationship, description of whether variables move together (positive), move opposite of one another (negative), or have no clear direction (none)</p></li>
<li><p><strong>Strength</strong>: How clustered or spread out the observations are</p></li>
<li><p><strong>Outliers</strong>: Observations that do not follow general trend of the data</p></li>
<li><p><strong>Interesting features</strong>: Other interesting features, such as increased variability in one variable as the other increases</p></li>
</ul>
</div>
</section><section id="example-relationship-between-prep_time-and-avg_rating" class="level4 unnumbered"><h4 class="unnumbered anchored" data-anchor-id="example-relationship-between-prep_time-and-avg_rating">Example: Relationship between <code>prep_time</code> and <code>avg_rating</code>
</h4>
<p>Is the amount of time it takes to prepare a dish associated with users’ opinions about the recipe? To answer this, let’s look at the relationship between <code>prep_time</code> and <code>avg_rating</code>.</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-bivar-eda-prep-rating" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-bivar-eda-prep-rating-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="03-eda_files/figure-html/fig-bivar-eda-prep-rating-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-37" title="Figure&nbsp;3.17: Relationship between prep_time and avg_rating"><img src="03-eda_files/figure-html/fig-bivar-eda-prep-rating-1.png" class="img-fluid figure-img" style="width:100.0%"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-bivar-eda-prep-rating-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3.17: Relationship between <code>prep_time</code> and <code>avg_rating</code>
</figcaption></figure>
</div>
</div>
</div>
<p>In <a href="#fig-bivar-eda-prep-rating" class="quarto-xref">Figure&nbsp;<span>3.17</span></a>, we see there are a few recipes with very long preparation times. Based on the descriptions in the data, these outlier recipes are those that require foods to marinate before cooking. They are making it difficult to see whether there is an association between the two variables for the vast majority of the data. The <span class="math inline">\(95^{th}\)</span> percentile for <code>prep_time</code> is 45 minutes, so we will narrow the scope of data and evaluate the relationship for those recipes that have preparation time of 45 minutes or less.</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-bivar-eda-prep-rating-45min" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-bivar-eda-prep-rating-45min-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="03-eda_files/figure-html/fig-bivar-eda-prep-rating-45min-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-38" title="Figure&nbsp;3.18: Relationship between prep_time and avg_rating for recipes with prep_time <= 45"><img src="03-eda_files/figure-html/fig-bivar-eda-prep-rating-45min-1.png" class="img-fluid figure-img" style="width:100.0%"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-bivar-eda-prep-rating-45min-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3.18: Relationship between <code>prep_time</code> and <code>avg_rating</code> for recipes with <code>prep_time &lt;= 45</code>
</figcaption></figure>
</div>
</div>
</div>
<div class="yourturn">
<p><a href="#fig-bivar-eda-prep-rating-45min" class="quarto-xref">Figure&nbsp;<span>3.18</span></a> is the updated scatterplot for recipes with preparation time 45 minutes or less. Based on <a href="#fig-bivar-eda-prep-rating-45min" class="quarto-xref">Figure&nbsp;<span>3.18</span></a>, does there appear to be a relationship between <code>prep_time</code> and <code>avg_rating</code>? Explain.<a href="#fn5" class="footnote-ref" id="fnref5" role="doc-noteref"><sup>5</sup></a></p>
</div>
<p>Something that may stand out on this plot is that the data appear to be organized in columns. This is not an error in the data, but rather reveals something about the way <code>prep_time</code> appears on the website. The preparation times are recorded in 5-minute increments for recipes with preparation time of five minutes or greater. The exact time is recorded for the few recipes with preparation time less than five minutes.</p>
<p>The next thing that stands out on <a href="#fig-bivar-eda-prep-rating-45min" class="quarto-xref">Figure&nbsp;<span>3.18</span></a> is the recipes with preparation times equal to 0. This seems unusual, as we would expect some preparation for any recipe. So what is happening here? The recipes with 0 minutes for the preparation times are those that show no preparation time on the website. In other words, these are examples of missing data. We don’t know why exactly these values are missing but some possible explanations are (1) the recipe author included the preparation time in the value for <code>cook_time</code>, (2) the recipe author just did not include preparation time in the materials posted on the site. In practice, we need to deal with these types of observations before moving too far into the analysis and modeling. <!--# We provide some strategies to do so in @sec-ch-special-topics.--></p>
</section></section><section id="sec-bivar-eda-quant-cat" class="level3" data-number="3.5.2"><h3 data-number="3.5.2" class="anchored" data-anchor-id="sec-bivar-eda-quant-cat">
<span class="header-section-number">3.5.2</span> Quantitative and categorical variables</h3>
<p>Next, we examine the relationship between a quantitative variable and a categorical variable. In general, we are interested in how the distribution of the quantitative variable differs based on levels of the categorical variable. Here we discuss three plots commonly used to visualize the relationship between a quantitative and categorical variable: side-by-side boxplots, ridgeline plots, and violin plots. These are all extensions of the plots for univariate quantitative distributions, so we can rely on the observations from <a href="#sec-univar-eda-quant" class="quarto-xref"><span>Section 3.4.2</span></a> as we examine these plots.</p>
<p>John Mitzewich, more commonly known as Chef John, is an American chef who posts online content about cooking and has posted a lot of recipes on allrecipes.com. He is the author of 130 recipes on the site; the second most common author (besides anonymous authors) has 22 recipes. The variable <code>chef_john</code> is an indicator of whether a recipe is posted by Chef John. Let’s look at the relationship between <code>chef_john</code> and <code>avg_rating</code> to see how users’ ratings of Chef John’s recipes compare to the ratings for other authors. <a href="#fig-bivar-eda-chef-rating" class="quarto-xref">Figure&nbsp;<span>3.19</span></a> shows three visualizations to explore the relationship between these two variables.</p>
<div id="fig-bivar-eda-chef-rating" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-bivar-eda-chef-rating-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-bivar-eda-chef-rating" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-bivar-eda-chef-rating-1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure"><div aria-describedby="fig-bivar-eda-chef-rating-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="03-eda_files/figure-html/fig-bivar-eda-chef-rating-1.png" class="lightbox" data-gallery="fig-bivar-eda-chef-rating" title="Figure&nbsp;3.19&nbsp;(a): Boxplot"><img src="03-eda_files/figure-html/fig-bivar-eda-chef-rating-1.png" class="img-fluid figure-img" style="width:100.0%" data-ref-parent="fig-bivar-eda-chef-rating"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-bivar-eda-chef-rating-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a) Boxplot
</figcaption></figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-bivar-eda-chef-rating" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-bivar-eda-chef-rating-2" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure"><div aria-describedby="fig-bivar-eda-chef-rating-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="03-eda_files/figure-html/fig-bivar-eda-chef-rating-2.png" class="lightbox" data-gallery="fig-bivar-eda-chef-rating" title="Figure&nbsp;3.19&nbsp;(b): Ridgeline plot"><img src="03-eda_files/figure-html/fig-bivar-eda-chef-rating-2.png" class="img-fluid figure-img" style="width:100.0%" data-ref-parent="fig-bivar-eda-chef-rating"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-bivar-eda-chef-rating-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(b) Ridgeline plot
</figcaption></figure>
</div>
</div>
</div>
<div class="quarto-layout-row">
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-bivar-eda-chef-rating" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-bivar-eda-chef-rating-3" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure"><div aria-describedby="fig-bivar-eda-chef-rating-3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="03-eda_files/figure-html/fig-bivar-eda-chef-rating-3.png" class="lightbox" data-gallery="fig-bivar-eda-chef-rating" title="Figure&nbsp;3.19&nbsp;(c): Violin plot"><img src="03-eda_files/figure-html/fig-bivar-eda-chef-rating-3.png" class="img-fluid figure-img" style="width:100.0%" data-ref-parent="fig-bivar-eda-chef-rating"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-bivar-eda-chef-rating-3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(c) Violin plot
</figcaption></figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-bivar-eda-chef-rating-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3.19: Relationship between <code>chef_john</code> and <code>avg_rating</code>
</figcaption></figure>
</div>
<p>The <strong>side-by-side boxplot</strong> in <a href="#fig-bivar-eda-chef-rating-1" class="quarto-xref">Figure&nbsp;<span>3.19 (a)</span></a> shows a boxplot of the distribution of <code>avg_rating</code> for each level of <code>chef_john</code>. When evaluating whether there appears to be a relationship between the two variables, we want to see if the boxplots are relatively similar for the recipes posted by Chef John (<code>chef_john = 1</code>) and those posted by all other authors (<code>chef_john = 0</code>). In this plot, the median for Chef John’s recipes is slightly higher than the median for all other posters, though there is overlap in the middle 50% of both distributions, as shown by the overlapping boxes. There is less variability in the average ratings among Chef John’s recipes compared to the variability in the average ratings for all others. We also note that there are more extreme low outliers in the distribution of recipes posted by all other authors.</p>
<p>The <strong>ridgeline plot</strong> in <a href="#fig-bivar-eda-chef-rating-2" class="quarto-xref">Figure&nbsp;<span>3.19 (b)</span></a> shows the density plot of the distribution of <code>avg_rating</code> for each level of <code>chef_john</code>. These plots are useful for comparing the center and shape of the distribution at each level. They also show how the spreads of the distributions compare. As with the side-by-side boxplots, we see there is more spread (variability) in the average ratings for recipes posted by others compared to those posted by Chef John. The number of outliers is less apparent, however, compared to side-by-side boxplot.</p>
<p>Lastly, the <strong>violin plot</strong> in <a href="#fig-bivar-eda-chef-rating-3" class="quarto-xref">Figure&nbsp;<span>3.19 (c)</span></a> is like a combination of the boxplot and ridgeline plot. The plots show the density of <code>avg_rating</code> for each level of <code>chef_john</code> with the median marked by a horizontal line. This makes it easier to compare the center of the distributions. We can also easily compare the spreads of the distributions. As with the ridgeline plots, it is less clear which observations are outliers.</p>
<p>One thing that is not clear from the visualizations is the number of observations in each subgroup. Knowing the number of observations in each subgroup provides useful context to better understand the differences in the distributions. Therefore, in addition to visualizations, we compute the number of observations and other summary statistics introduced in <a href="#sec-univar-eda-quant" class="quarto-xref"><span>Section 3.4.2</span></a> to describe the distribution of the quantitative variable at each level of the categorical variable. The summary statistics for <code>avg_rating</code> for each level of <code>chef_john</code> is shown in <a href="#tbl-bivar-eda-chef-rating" class="quarto-xref">Table&nbsp;<span>3.7</span></a>.</p>
<div class="cell">
<div id="tbl-bivar-eda-chef-rating" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure"><figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-bivar-eda-chef-rating-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;3.7: Summary statistics of <code>avg_rating</code> for each level of <code>chef_john</code>
</figcaption><div aria-describedby="tbl-bivar-eda-chef-rating-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="do-not-create-environment cell caption-top table table-sm table-striped small">
<colgroup>
<col style="width: 15%">
<col style="width: 7%">
<col style="width: 21%">
<col style="width: 7%">
<col style="width: 9%">
<col style="width: 6%">
<col style="width: 7%">
<col style="width: 10%">
<col style="width: 6%">
<col style="width: 6%">
</colgroup>
<thead><tr class="header">
<th style="text-align: left;">chef_john</th>
<th style="text-align: right;">n</th>
<th style="text-align: right;">Prop Complete</th>
<th style="text-align: right;">Mean</th>
<th style="text-align: right;">SD</th>
<th style="text-align: right;">Min</th>
<th style="text-align: right;">Q1</th>
<th style="text-align: right;">Median</th>
<th style="text-align: right;">Q3</th>
<th style="text-align: right;">Max</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">0</td>
<td style="text-align: right;">2088</td>
<td style="text-align: right;">0.955</td>
<td style="text-align: right;">4.50</td>
<td style="text-align: right;">0.405</td>
<td style="text-align: right;">1.0</td>
<td style="text-align: right;">4.30</td>
<td style="text-align: right;">4.6</td>
<td style="text-align: right;">4.8</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="even">
<td style="text-align: left;">1</td>
<td style="text-align: right;">130</td>
<td style="text-align: right;">0.969</td>
<td style="text-align: right;">4.74</td>
<td style="text-align: right;">0.251</td>
<td style="text-align: right;">3.5</td>
<td style="text-align: right;">4.62</td>
<td style="text-align: right;">4.8</td>
<td style="text-align: right;">4.9</td>
<td style="text-align: right;">5</td>
</tr>
</tbody>
</table>
</div>
</div>
</figure>
</div>
</div>
<p>When evaluating a potential relationship, we are primarily concerned with how the centers of the distribution for the quantitative variable compare for each level of the categorical variable. If there are large differences between the centers, then there is indication of a potential relationship between the two variables. Otherwise, if the centers are equal or relatively close, there is little to no indication of a relationship between the variables. It is worth noting again that we are only making observations about the data, not drawing conclusions at this point.</p>
<section id="example-relationship-between-country-and-avg_rating" class="level4 unnumbered"><h4 class="unnumbered anchored" data-anchor-id="example-relationship-between-country-and-avg_rating">Example: Relationship between <code>country</code> and <code>avg_rating</code>
</h4>
<p>How do users rate recipes from different countries? <a href="#fig-bivar-eda-country-rating" class="quarto-xref">Figure&nbsp;<span>3.20</span></a> shows the relationship between <code>country</code> and <code>avg_rating</code>.</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-bivar-eda-country-rating" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-bivar-eda-country-rating-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="03-eda_files/figure-html/fig-bivar-eda-country-rating-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-42" title="Figure&nbsp;3.20: Relationship between country and avg_rating"><img src="03-eda_files/figure-html/fig-bivar-eda-country-rating-1.png" class="img-fluid figure-img" style="width:100.0%"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-bivar-eda-country-rating-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3.20: Relationship between <code>country</code> and <code>avg_rating</code>
</figcaption></figure>
</div>
</div>
</div>
<div class="yourturn">
<p>Write two observations from <a href="#fig-bivar-eda-country-rating" class="quarto-xref">Figure&nbsp;<span>3.20</span></a>. Does there appear to be a relationship between <code>country</code> and <code>avg_rating</code>?<a href="#fn6" class="footnote-ref" id="fnref6" role="doc-noteref"><sup>6</sup></a></p>
</div>
</section></section><section id="sec-bivar-eda-cat-cat" class="level3" data-number="3.5.3"><h3 data-number="3.5.3" class="anchored" data-anchor-id="sec-bivar-eda-cat-cat">
<span class="header-section-number">3.5.3</span> Two categorical variables</h3>
<p>The last type of bivariate relationship is the relationship between two categorical variables. We will be particularly interested in these relationships in <a href="11-logistic.html" class="quarto-xref"><span>Chapter 11</span></a>, as we fit models with categorical response variables. We use visualizations along with tables of frequencies and relative frequencies to examine these relationships. There are three commonly used visualizations for the relationship between two categorical variables: grouped bar plot, segmented bar plot, and mosaic plot.</p>
<p>When looking at the relationship between a quantitative and categorical variable, we naturally looked at the distribution of the quantitative variable by levels of the categorical variable. When we have two categorical variables, the software does not have a natural way in which to arrange the data. Therefore, we rely on the analysis objective to determine how to most effectively visualize and summarize the relationship.</p>
<p>In <a href="#sec-intro-recipes" class="quarto-xref"><span>Section 3.1</span></a> we introduced Chef John, the most prolific poster on allrecipes.com based on the observations in our data. We’d like to explore whether he tends to post recipes at similar times of the year compared to other authors. Therefore, we will explore the relationship between <code>season</code> and <code>chef_john</code>, by looking at the distribution of <code>season</code> for Chef John compared to the distribution for all other authors. <!--# do i need this part? This will help us more easily compare Chef John's posting patterns compared to all others. It may be more challenging to make such comparisons if we looked at the distribution of chef_john for each season. --></p>
<p><a href="#fig-bivar-eda-chef-season" class="quarto-xref">Figure&nbsp;<span>3.21</span></a> shows three different visualizations of the relationship between <code>chef_john</code> and <code>season</code>.</p>
<!--# figure out why mosaic plot is not working or alterantives-->
<div id="fig-bivar-eda-chef-season" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-bivar-eda-chef-season-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-bivar-eda-chef-season" style="flex-basis: 33.3%;justify-content: flex-start;">
<div id="fig-bivar-eda-chef-season-1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure"><div aria-describedby="fig-bivar-eda-chef-season-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="03-eda_files/figure-html/fig-bivar-eda-chef-season-1.png" class="lightbox" data-gallery="fig-bivar-eda-chef-season" title="Figure&nbsp;3.21&nbsp;(a): Grouped bar chart"><img src="03-eda_files/figure-html/fig-bivar-eda-chef-season-1.png" class="img-fluid figure-img" style="width:100.0%" data-ref-parent="fig-bivar-eda-chef-season"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-bivar-eda-chef-season-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a) Grouped bar chart
</figcaption></figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-bivar-eda-chef-season" style="flex-basis: 33.3%;justify-content: flex-start;">
<div id="fig-bivar-eda-chef-season-2" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure"><div aria-describedby="fig-bivar-eda-chef-season-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="03-eda_files/figure-html/fig-bivar-eda-chef-season-2.png" class="lightbox" data-gallery="fig-bivar-eda-chef-season" title="Figure&nbsp;3.21&nbsp;(b): Segmented bar plot"><img src="03-eda_files/figure-html/fig-bivar-eda-chef-season-2.png" class="img-fluid figure-img" style="width:100.0%" data-ref-parent="fig-bivar-eda-chef-season"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-bivar-eda-chef-season-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(b) Segmented bar plot
</figcaption></figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-bivar-eda-chef-season" style="flex-basis: 33.3%;justify-content: flex-start;">
<div id="fig-bivar-eda-chef-season-3" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure"><div aria-describedby="fig-bivar-eda-chef-season-3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="03-eda_files/figure-html/fig-bivar-eda-chef-season-3.png" class="lightbox" data-gallery="fig-bivar-eda-chef-season" title="Figure&nbsp;3.21&nbsp;(c): Mosaic plot"><img src="03-eda_files/figure-html/fig-bivar-eda-chef-season-3.png" class="img-fluid figure-img" style="width:100.0%" data-ref-parent="fig-bivar-eda-chef-season"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-bivar-eda-chef-season-3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(c) Mosaic plot
</figcaption></figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-bivar-eda-chef-season-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3.21: Relationship between <code>chef_john</code> and <code>season</code>
</figcaption></figure>
</div>
<!--# maybe put barplot by itself then mosaic and stacked barplot on a row-->
<p>The <strong>grouped bar plot</strong> in <a href="#fig-bivar-eda-chef-season-1" class="quarto-xref">Figure&nbsp;<span>3.21 (a)</span></a> shows a bar chart of <code>season</code> based on the levels of <code>chef_john</code>. The height of the bars represent the number of observations that take a given level of <code>season</code> and given level of <code>chef_john</code>. As we evaluate whether there is a relationship between the two variables, we look to see whether the relative bar heights across seasons is the same for recipes posted by Chef John compared to the relative bar heights for other authors. The data give some indication of a relationship between the variables if the distribution of <code>season</code> differs based on values of <code>chef_john</code>.</p>
<p><a href="#fig-bivar-eda-chef-season-1" class="quarto-xref">Figure&nbsp;<span>3.21 (a)</span></a> shows a limitation of the grouped bar chart. Because the heights of the bars represent the number of observations, these plots can be difficult to interpret when the data have a large imbalance. That is the case here, as there are 130 recipes were posted by Chef John and 2088 were posted by all other authors.</p>
<p>In a <strong>segmented bar chart</strong> (also called <em>stacked bar chart</em>), the bars for one variable are filled in based on the distribution of another variable. In the segmented bar chart in <a href="#fig-bivar-eda-chef-season-2" class="quarto-xref">Figure&nbsp;<span>3.21 (b)</span></a>, there is a bar for each level of <code>chef_john</code>, and each bar is filled in based on the distribution of <code>season</code>. Because we are now working with proportions, we can more easily make comparisons across groups even when the data are imbalanced. If the distributions are approximately the same within each bar, then it is a indication of no relationship between the two variables. Otherwise, differences in the distributions within the bars indicate a potential relationship between the variables.</p>
<p>A <strong>mosaic plot</strong> <!--# is that what its called--> has some of the advantages of both grouped bar plots and segmented bar plots. In a mosaic plots, the bars for grouping variable are filled in based on the distribution of the other variable, and the width of the bars are based on the number of observations at each level of the grouping variable. <a href="#fig-bivar-eda-chef-season-2" class="quarto-xref">Figure&nbsp;<span>3.21 (b)</span></a> shows the mosaic plot of <code>season</code> versus <code>chef_john</code>. Now we can not only see the distribution of season for recipes posted by Chef John and for recipes posted by all other authors, but we also see there are far fewer observations that take values <code>chef_john = 1</code> compared to <code>chef_john = 0</code>.</p>
<p>From the plots in <a href="#fig-bivar-eda-chef-season" class="quarto-xref">Figure&nbsp;<span>3.21</span></a>, we see that a larger proportion of recipes were posted by Chef John in the fall and winter seasons, compared to all other authors. The other authors posted a higher proportion of recipes in the summer compared to Chef John. These figures indicate a potential relationship between whether the recipe was posted by Chef John and the season in which it was posted.</p>
<!--# do I want to make a point about the mosaic plot is a one-stop shop but it could be harder for others to interpret?-->
<section id="example-relationship-between-country-and-season" class="level4 unnumbered"><h4 class="unnumbered anchored" data-anchor-id="example-relationship-between-country-and-season">Example: Relationship between <code>country</code> and <code>season</code>
</h4>
<p>Is there a relationship between the country a recipe is from and the time of year it is posted? <a href="#fig-bivar-eda-country-season" class="quarto-xref">Figure&nbsp;<span>3.22</span></a> is a segmented bar chart showing the relationship between <code>country</code> and <code>season</code>.</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-bivar-eda-country-season" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-bivar-eda-country-season-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="03-eda_files/figure-html/fig-bivar-eda-country-season-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-46" title="Figure&nbsp;3.22: Segmented bar chart of country versus season"><img src="03-eda_files/figure-html/fig-bivar-eda-country-season-1.png" class="img-fluid figure-img" style="width:100.0%"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-bivar-eda-country-season-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3.22: Segmented bar chart of <code>country</code> versus <code>season</code>
</figcaption></figure>
</div>
</div>
</div>
<div class="yourturn">
<p>Write two observations from <a href="#fig-bivar-eda-country-season" class="quarto-xref">Figure&nbsp;<span>3.22</span></a>. Does there appear to be a relationship between <code>country</code> and <code>season</code>?<a href="#fn7" class="footnote-ref" id="fnref7" role="doc-noteref"><sup>7</sup></a></p>
</div>
</section></section></section><section id="sec-multivar-eda" class="level2" data-number="3.6"><h2 data-number="3.6" class="anchored" data-anchor-id="sec-multivar-eda">
<span class="header-section-number">3.6</span> Relationship between three or more variables</h2>
<p>The next step is <strong>multivariate EDA</strong>, exploring the relationship between three or more variables. We typically limit this to the exploration of three variables, because it can become challenging to interpret and glean meaningful insights from the relationship between a large number of variables. We often use multivariate EDA when we want to explore potential interaction terms for the regression model (<a href="07-mlr.html#sec-mlr-interaction" class="quarto-xref"><span>Section 7.7</span></a>). We generally rely on visualizations for multivariate EDA. We can start with one of the bivariate visualizations introduced in <a href="#sec-bivar-eda" class="quarto-xref"><span>Section 3.5</span></a> and further explore them based on subgroups of a third variable.</p>
<p>In <a href="#sec-bivar-eda-quant-cat" class="quarto-xref"><span>Section 3.5.2</span></a>, we looked at the relationship between the average rating and whether a recipe was posted by Chef John or another author. Now let’s expand on that and consider whether this relationship differs between seasons. <a href="#fig-multivar-eda" class="quarto-xref">Figure&nbsp;<span>3.23</span></a> shows side-by-side boxplots of <code>avg_rating</code> versus <code>chef_john</code> faceted (split up) by <code>season</code>.</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-multivar-eda" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-multivar-eda-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="03-eda_files/figure-html/fig-multivar-eda-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-47" title="Figure&nbsp;3.23: Multivariate EDA of avg_rating versus chef_john faceted by season"><img src="03-eda_files/figure-html/fig-multivar-eda-1.png" class="img-fluid figure-img" style="width:100.0%"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-multivar-eda-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3.23: Multivariate EDA of <code>avg_rating</code> versus <code>chef_john</code> faceted by <code>season</code>
</figcaption></figure>
</div>
</div>
</div>
<p>As we look at the visualization, the primary question to ask is whether the relationship between <code>avg_rating</code> and <code>chef_john</code> looks similar or different across the levels of <code>season</code>. In other words, are the boxplots the same relative to one another for each level of <code>season</code>. Note that we are not necessarily interested in the absolute position of the boxplots (it’s OK if some seasons generally have higher or lower ratings compared to others) but rather we are interested in the relative positioning of the boxplots within a season.</p>
<p>From <a href="#fig-multivar-eda" class="quarto-xref">Figure&nbsp;<span>3.23</span></a>, the relationship between <code>avg_rating</code> and <code>chef_john</code> is approximately the same in each season. Within each season, the median <code>avg_rating</code> for recipes posted by Chef John is higher compared to those posted by other authors. Additionally, there is generally a lot of overlap in the boxes within each season. The exception is the summer, but we keep in mind the very small variability (and small sample size) of recipes posted by Chef John. Based on this EDA, the relationship between <code>avg_rating</code> and <code>chef_john</code> does not appear to differ by <code>season</code>.</p>
<!--# add another example-->
</section><section id="exploratory-data-analysis-in-r" class="level2" data-number="3.7"><h2 data-number="3.7" class="anchored" data-anchor-id="exploratory-data-analysis-in-r">
<span class="header-section-number">3.7</span> Exploratory data analysis in R</h2>
<p>Much of the exploratory data analysis in this chapter is done using functions from the <strong>dplyr</strong> and <strong>ggplot2</strong> packages. We refer the reader to <a href="02-review-r.html" class="quarto-xref"><span>Chapter 2</span></a> for a more detailed introduction to those packages. Here we will focus on the new functions that were used in this chapter: <code>skim()</code> in <a href="#sec-univar-eda-quant" class="quarto-xref"><span>Section 3.4.2</span></a>, <code>waffle()</code> in <a href="#sec-univar-eda-cat" class="quarto-xref"><span>Section 3.4.1</span></a>, <code>geom_ridges()</code> in <a href="#sec-bivar-eda-quant-cat" class="quarto-xref"><span>Section 3.5.2</span></a>, and <code>geom_mosaic()</code> in <a href="#sec-bivar-eda-cat-cat" class="quarto-xref"><span>Section 3.5.3</span></a>.</p>
<section id="data-summaries" class="level3" data-number="3.7.1"><h3 data-number="3.7.1" class="anchored" data-anchor-id="data-summaries">
<span class="header-section-number">3.7.1</span> Data summaries</h3>
<p>The <code>skim()</code> function in the <strong>skimr</strong> R package <span class="citation" data-cites="skimr">(<a href="references.html#ref-skimr" role="doc-biblioref">Waring et al. 2022</a>)</span> provides a summary of all the columns in a data frame or tibble. This function is particularly useful for initially checking the data <a href="#sec-initial-check" class="quarto-xref"><span>Section 3.3</span></a> and univariate data analysis (<a href="#sec-univar-eda" class="quarto-xref"><span>Section 3.4</span></a>). The code below produces a summary for each column <code>recipes</code>. Different types of summary output is produced based on the column’s data format.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb3"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">recipes</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">skim</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div id="tbl-skim-recipes" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure"><figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-skim-recipes-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;3.8: <code>skim()</code> output for <code>recipes</code>
</figcaption><div aria-describedby="tbl-skim-recipes-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="do-not-create-environment cell caption-top table table-sm table-striped small">
<caption>Data summary</caption>
<tbody>
<tr class="odd">
<td style="text-align: left;">Name</td>
<td style="text-align: left;">recipes</td>
</tr>
<tr class="even">
<td style="text-align: left;">Number of rows</td>
<td style="text-align: left;">2218</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Number of columns</td>
<td style="text-align: left;">22</td>
</tr>
<tr class="even">
<td style="text-align: left;">_______________________</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Column type frequency:</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">character</td>
<td style="text-align: left;">5</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Date</td>
<td style="text-align: left;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">factor</td>
<td style="text-align: left;">3</td>
</tr>
<tr class="odd">
<td style="text-align: left;">numeric</td>
<td style="text-align: left;">13</td>
</tr>
<tr class="even">
<td style="text-align: left;">________________________</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Group variables</td>
<td style="text-align: left;">None</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: character</strong></p>
<table class="do-not-create-environment cell caption-top table table-sm table-striped small">
<colgroup>
<col style="width: 19%">
<col style="width: 13%">
<col style="width: 19%">
<col style="width: 5%">
<col style="width: 6%">
<col style="width: 8%">
<col style="width: 12%">
<col style="width: 15%">
</colgroup>
<thead><tr class="header">
<th style="text-align: left;">skim_variable</th>
<th style="text-align: right;">n_missing</th>
<th style="text-align: right;">complete_rate</th>
<th style="text-align: right;">min</th>
<th style="text-align: right;">max</th>
<th style="text-align: right;">empty</th>
<th style="text-align: right;">n_unique</th>
<th style="text-align: right;">whitespace</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">name</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">87</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">2216</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">country</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">url</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">45</td>
<td style="text-align: right;">120</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">2218</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">author</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1635</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ingredients</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">29</td>
<td style="text-align: right;">1109</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">2217</td>
<td style="text-align: right;">0</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: Date</strong></p>
<table class="do-not-create-environment cell caption-top table table-sm table-striped small">
<colgroup>
<col style="width: 18%">
<col style="width: 12%">
<col style="width: 17%">
<col style="width: 13%">
<col style="width: 13%">
<col style="width: 13%">
<col style="width: 11%">
</colgroup>
<thead><tr class="header">
<th style="text-align: left;">skim_variable</th>
<th style="text-align: right;">n_missing</th>
<th style="text-align: right;">complete_rate</th>
<th style="text-align: left;">min</th>
<th style="text-align: left;">max</th>
<th style="text-align: left;">median</th>
<th style="text-align: right;">n_unique</th>
</tr></thead>
<tbody><tr class="odd">
<td style="text-align: left;">date_published</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">2009-02-09</td>
<td style="text-align: left;">2025-07-29</td>
<td style="text-align: left;">2024-07-14</td>
<td style="text-align: right;">751</td>
</tr></tbody>
</table>
<p><strong>Variable type: factor</strong></p>
<table class="do-not-create-environment cell caption-top table table-sm table-striped small">
<colgroup>
<col style="width: 14%">
<col style="width: 10%">
<col style="width: 14%">
<col style="width: 8%">
<col style="width: 9%">
<col style="width: 41%">
</colgroup>
<thead><tr class="header">
<th style="text-align: left;">skim_variable</th>
<th style="text-align: right;">n_missing</th>
<th style="text-align: right;">complete_rate</th>
<th style="text-align: left;">ordered</th>
<th style="text-align: right;">n_unique</th>
<th style="text-align: left;">top_counts</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">month</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">12</td>
<td style="text-align: left;">11: 394, 1: 230, 6: 221, 2: 211</td>
</tr>
<tr class="even">
<td style="text-align: left;">chef_john</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">0: 2088, 1: 130</td>
</tr>
<tr class="odd">
<td style="text-align: left;">season</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">Win: 593, Sum: 584, Fal: 584, Spr: 457</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: numeric</strong></p>
<table class="do-not-create-environment cell caption-top table table-sm table-striped small">
<colgroup>
<col style="width: 15%">
<col style="width: 10%">
<col style="width: 15%">
<col style="width: 8%">
<col style="width: 7%">
<col style="width: 5%">
<col style="width: 7%">
<col style="width: 7%">
<col style="width: 7%">
<col style="width: 6%">
<col style="width: 6%">
</colgroup>
<thead><tr class="header">
<th style="text-align: left;">skim_variable</th>
<th style="text-align: right;">n_missing</th>
<th style="text-align: right;">complete_rate</th>
<th style="text-align: right;">mean</th>
<th style="text-align: right;">sd</th>
<th style="text-align: right;">p0</th>
<th style="text-align: right;">p25</th>
<th style="text-align: right;">p50</th>
<th style="text-align: right;">p75</th>
<th style="text-align: right;">p100</th>
<th style="text-align: left;">hist</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">calories</td>
<td style="text-align: right;">32</td>
<td style="text-align: right;">0.99</td>
<td style="text-align: right;">358.41</td>
<td style="text-align: right;">240.04</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">190.0</td>
<td style="text-align: right;">319.5</td>
<td style="text-align: right;">477.0</td>
<td style="text-align: right;">2266</td>
<td style="text-align: left;">▇▃▁▁▁</td>
</tr>
<tr class="even">
<td style="text-align: left;">fat</td>
<td style="text-align: right;">55</td>
<td style="text-align: right;">0.98</td>
<td style="text-align: right;">18.76</td>
<td style="text-align: right;">16.96</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">7.0</td>
<td style="text-align: right;">15.0</td>
<td style="text-align: right;">26.0</td>
<td style="text-align: right;">225</td>
<td style="text-align: left;">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td style="text-align: left;">carbs</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">0.98</td>
<td style="text-align: right;">31.96</td>
<td style="text-align: right;">26.06</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">13.0</td>
<td style="text-align: right;">26.0</td>
<td style="text-align: right;">45.0</td>
<td style="text-align: right;">264</td>
<td style="text-align: left;">▇▂▁▁▁</td>
</tr>
<tr class="even">
<td style="text-align: left;">protein</td>
<td style="text-align: right;">39</td>
<td style="text-align: right;">0.98</td>
<td style="text-align: right;">16.61</td>
<td style="text-align: right;">16.30</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">4.0</td>
<td style="text-align: right;">11.0</td>
<td style="text-align: right;">25.0</td>
<td style="text-align: right;">159</td>
<td style="text-align: left;">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td style="text-align: left;">avg_rating</td>
<td style="text-align: right;">97</td>
<td style="text-align: right;">0.96</td>
<td style="text-align: right;">4.51</td>
<td style="text-align: right;">0.40</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">4.3</td>
<td style="text-align: right;">4.6</td>
<td style="text-align: right;">4.8</td>
<td style="text-align: right;">5</td>
<td style="text-align: left;">▁▁▁▂▇</td>
</tr>
<tr class="even">
<td style="text-align: left;">total_ratings</td>
<td style="text-align: right;">97</td>
<td style="text-align: right;">0.96</td>
<td style="text-align: right;">85.25</td>
<td style="text-align: right;">148.24</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">6.0</td>
<td style="text-align: right;">24.0</td>
<td style="text-align: right;">87.0</td>
<td style="text-align: right;">997</td>
<td style="text-align: left;">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td style="text-align: left;">reviews</td>
<td style="text-align: right;">108</td>
<td style="text-align: right;">0.95</td>
<td style="text-align: right;">76.93</td>
<td style="text-align: right;">142.07</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">6.0</td>
<td style="text-align: right;">21.0</td>
<td style="text-align: right;">74.0</td>
<td style="text-align: right;">975</td>
<td style="text-align: left;">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td style="text-align: left;">prep_time</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">21.50</td>
<td style="text-align: right;">60.72</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">10.0</td>
<td style="text-align: right;">15.0</td>
<td style="text-align: right;">25.0</td>
<td style="text-align: right;">1800</td>
<td style="text-align: left;">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td style="text-align: left;">cook_time</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">41.75</td>
<td style="text-align: right;">63.18</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">10.0</td>
<td style="text-align: right;">25.0</td>
<td style="text-align: right;">45.0</td>
<td style="text-align: right;">600</td>
<td style="text-align: left;">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td style="text-align: left;">total_time</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">170.98</td>
<td style="text-align: right;">641.73</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">35.0</td>
<td style="text-align: right;">60.0</td>
<td style="text-align: right;">120.0</td>
<td style="text-align: right;">14440</td>
<td style="text-align: left;">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td style="text-align: left;">servings</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">10.48</td>
<td style="text-align: right;">13.42</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">4.0</td>
<td style="text-align: right;">8.0</td>
<td style="text-align: right;">12.0</td>
<td style="text-align: right;">240</td>
<td style="text-align: left;">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td style="text-align: left;">year</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">2023.32</td>
<td style="text-align: right;">1.75</td>
<td style="text-align: right;">2009</td>
<td style="text-align: right;">2022.0</td>
<td style="text-align: right;">2024.0</td>
<td style="text-align: right;">2025.0</td>
<td style="text-align: right;">2025</td>
<td style="text-align: left;">▁▁▁▁▇</td>
</tr>
<tr class="odd">
<td style="text-align: left;">days_on_site</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">643.15</td>
<td style="text-align: right;">637.64</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">207.0</td>
<td style="text-align: right;">382.5</td>
<td style="text-align: right;">1002.8</td>
<td style="text-align: right;">6017</td>
<td style="text-align: left;">▇▁▁▁▁</td>
</tr>
</tbody>
</table>
</div>
</div>
</figure>
</div>
</div>
<p>If we are only interested in the summary for particular variables, we specify them in the <code>skim()</code> function. The code below produces the summaries for <code>avg_rating</code> and <code>season</code>.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb4"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">recipes</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">skim</span><span class="op">(</span><span class="va">avg_rating</span>, <span class="va">season</span><span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div id="tbl-skim-recipes-subset" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure"><figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-skim-recipes-subset-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;3.9: <code>skim()</code> output for <code>avg_rating</code> and <code>season</code>
</figcaption><div aria-describedby="tbl-skim-recipes-subset-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="do-not-create-environment cell caption-top table table-sm table-striped small">
<caption>Data summary</caption>
<tbody>
<tr class="odd">
<td style="text-align: left;">Name</td>
<td style="text-align: left;">recipes</td>
</tr>
<tr class="even">
<td style="text-align: left;">Number of rows</td>
<td style="text-align: left;">2218</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Number of columns</td>
<td style="text-align: left;">22</td>
</tr>
<tr class="even">
<td style="text-align: left;">_______________________</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Column type frequency:</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">factor</td>
<td style="text-align: left;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">numeric</td>
<td style="text-align: left;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">________________________</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Group variables</td>
<td style="text-align: left;">None</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: factor</strong></p>
<table class="do-not-create-environment cell caption-top table table-sm table-striped small">
<colgroup>
<col style="width: 14%">
<col style="width: 10%">
<col style="width: 14%">
<col style="width: 8%">
<col style="width: 9%">
<col style="width: 41%">
</colgroup>
<thead><tr class="header">
<th style="text-align: left;">skim_variable</th>
<th style="text-align: right;">n_missing</th>
<th style="text-align: right;">complete_rate</th>
<th style="text-align: left;">ordered</th>
<th style="text-align: right;">n_unique</th>
<th style="text-align: left;">top_counts</th>
</tr></thead>
<tbody><tr class="odd">
<td style="text-align: left;">season</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">Win: 593, Sum: 584, Fal: 584, Spr: 457</td>
</tr></tbody>
</table>
<p><strong>Variable type: numeric</strong></p>
<table class="do-not-create-environment cell caption-top table table-sm table-striped small">
<colgroup>
<col style="width: 19%">
<col style="width: 13%">
<col style="width: 19%">
<col style="width: 6%">
<col style="width: 5%">
<col style="width: 4%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 6%">
<col style="width: 8%">
</colgroup>
<thead><tr class="header">
<th style="text-align: left;">skim_variable</th>
<th style="text-align: right;">n_missing</th>
<th style="text-align: right;">complete_rate</th>
<th style="text-align: right;">mean</th>
<th style="text-align: right;">sd</th>
<th style="text-align: right;">p0</th>
<th style="text-align: right;">p25</th>
<th style="text-align: right;">p50</th>
<th style="text-align: right;">p75</th>
<th style="text-align: right;">p100</th>
<th style="text-align: left;">hist</th>
</tr></thead>
<tbody><tr class="odd">
<td style="text-align: left;">avg_rating</td>
<td style="text-align: right;">97</td>
<td style="text-align: right;">0.96</td>
<td style="text-align: right;">4.51</td>
<td style="text-align: right;">0.4</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">4.3</td>
<td style="text-align: right;">4.6</td>
<td style="text-align: right;">4.8</td>
<td style="text-align: right;">5</td>
<td style="text-align: left;">▁▁▁▂▇</td>
</tr></tbody>
</table>
</div>
</div>
</figure>
</div>
</div>
<p>The output from <code>skim()</code> is a tibble, so we can apply the usual <strong>dplyr</strong> functions to the results. For example, we may not be interested in all the summary output, so we can use <code>select()</code> to choose certain columns. The code below shows the mean and standard deviation for <code>avg_rating</code>. The column names from the <code>skim()</code> output differ slightly from what is displayed, so use <code>glimpse()</code> or <code><a href="https://rdrr.io/r/base/names.html">names()</a></code> to see the underlying column names.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb5"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">recipes</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">skim</span><span class="op">(</span><span class="va">avg_rating</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">select</span><span class="op">(</span><span class="va">numeric.mean</span>, <span class="va">numeric.sd</span><span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 2
  numeric.mean numeric.sd
         &lt;dbl&gt;      &lt;dbl&gt;
1         4.51      0.401</code></pre>
</div>
</div>
</section><section id="waffle-charts" class="level3" data-number="3.7.2"><h3 data-number="3.7.2" class="anchored" data-anchor-id="waffle-charts">
<span class="header-section-number">3.7.2</span> Waffle charts</h3>
<p>We introduced waffle charts in <a href="#sec-univar-eda-cat" class="quarto-xref"><span>Section 3.4.1</span></a> to explore the univariate distribution of a categorical variable. Waffle charts are produced using <code>geom_waffle()</code> in the <strong>waffle</strong> R package <span class="citation" data-cites="waffle">(<a href="references.html#ref-waffle" role="doc-biblioref">Rudis and Gandy 2023</a>)</span>. The functions in this package are developed to work within the <strong>ggplot2</strong> framework, so we can use all the <strong>ggplot</strong> functions from <a href="02-review-r.html#sec-customize-plots" class="quarto-xref"><span>Section 2.6.2</span></a> to customize the charts.</p>
<p>The code to create a waffle chart for the <code>season</code> is below. We begin by using <code>count()</code> to compute the number of observations at each level. Inside <code>geom_waffle()</code>, the argument <code>flip = TRUE</code> arranges the level of season by rows, rather than the default arrangement by columns. The argument <code>make_proportional = TRUE</code> produces a chart such that the number of squares is approximately equal to the proportion of observations at each level, rather than the raw number of observations. Lastly, <code>theme_enhance_waffle()</code> removes unnecessary axis labels.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb7"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">recipes</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">count</span><span class="op">(</span><span class="va">season</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">ggplot</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>fill <span class="op">=</span> <span class="va">season</span>, values <span class="op">=</span> <span class="va">n</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_waffle</span><span class="op">(</span>flip <span class="op">=</span> <span class="cn">TRUE</span>, make_proportional <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">theme_enhance_waffle</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">scale_fill_manual</span><span class="op">(</span>values <span class="op">=</span> <span class="va">sunset4</span><span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="03-eda_files/figure-html/waffle-chart-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-48"><img src="03-eda_files/figure-html/waffle-chart-1.png" class="img-fluid figure-img" style="width:100.0%"></a></p>
</figure>
</div>
</div>
</div>
</section><section id="ridgeline-plots" class="level3" data-number="3.7.3"><h3 data-number="3.7.3" class="anchored" data-anchor-id="ridgeline-plots">
<span class="header-section-number">3.7.3</span> Ridgeline plots</h3>
<p>In <a href="#sec-bivar-eda-quant-cat" class="quarto-xref"><span>Section 3.5.2</span></a>, we introduced ridgeline plots to explore the relationship between a quantitative and categorical variable. We use <code>geom_density_ridges()</code> in the <strong>ggridges</strong> R package <span class="citation" data-cites="ggridges">(<a href="references.html#ref-ggridges" role="doc-biblioref">Wilke 2025</a>)</span> to create the plots. Similar to <strong>ggwaffle</strong>, the functions in this package are developed to work within the <strong>ggplot2</strong> framework, so we can utilize the functions from <a href="02-review-r.html#sec-customize-plots" class="quarto-xref"><span>Section 2.6.2</span></a> to customize the plots.</p>
<p>The code for the ridgeline plot of the relationship between <code>avg_rating</code> and <code>chef_john</code> is below.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb8"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">ggplot</span><span class="op">(</span>data <span class="op">=</span> <span class="va">recipes</span>, <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">avg_rating</span>, y <span class="op">=</span> <span class="va">chef_john</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">geom_density_ridges</span><span class="op">(</span><span class="op">)</span> </span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="03-eda_files/figure-html/ggridges-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-49"><img src="03-eda_files/figure-html/ggridges-1.png" class="img-fluid figure-img" style="width:100.0%"></a></p>
</figure>
</div>
</div>
</div>
<p>We customize the ridgeline plot by filling in the color of the densities based on <code>chef_john</code>, updating the labels, and applying a new theme to the visualization.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb9"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">ggplot</span><span class="op">(</span>data <span class="op">=</span> <span class="va">recipes</span>, <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">avg_rating</span>, y <span class="op">=</span> <span class="va">chef_john</span>, fill <span class="op">=</span> <span class="va">chef_john</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">geom_density_ridges</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">labs</span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Average rating"</span>, </span>
<span>       y <span class="op">=</span> <span class="st">"Chef John"</span>, </span>
<span>       fill <span class="op">=</span> <span class="st">"Chef John"</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">theme_bw</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">scale_fill_manual</span><span class="op">(</span>values <span class="op">=</span> <span class="va">sunset2</span><span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="03-eda_files/figure-html/unnamed-chunk-2-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-50"><img src="03-eda_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid figure-img" style="width:100.0%"></a></p>
</figure>
</div>
</div>
</div>
</section><section id="mosaic-plots" class="level3" data-number="3.7.4"><h3 data-number="3.7.4" class="anchored" data-anchor-id="mosaic-plots">
<span class="header-section-number">3.7.4</span> Mosaic plots</h3>
<p>We introduced the mosaic plot for examining the relationship between two categorical variables in <a href="#sec-bivar-eda-cat-cat" class="quarto-xref"><span>Section 3.5.3</span></a>. Mosaic plots are created using <code>geom_mosaic()</code> in the <strong>ggmosaic</strong> R package <span class="citation" data-cites="ggmosaic">(<a href="references.html#ref-ggmosaic" role="doc-biblioref">Jeppson, Hofmann, and Cook 2021</a>)</span>.</p>
<p>Below is a mosaic plot of <code>chef_john</code> versus <code>season</code>. The <code>aes()</code> function to define the aesthetics must be an argument of <code>geom_mosaic()</code>. Additionally, the <code>x</code> aesthetic is defined as the product of the two categorical variables of interest.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb10"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">ggplot</span><span class="op">(</span>data <span class="op">=</span> <span class="va">recipes</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_mosaic</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="fu">product</span><span class="op">(</span><span class="va">season</span>, <span class="va">chef_john</span><span class="op">)</span>, fill <span class="op">=</span> <span class="va">season</span><span class="op">)</span><span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="03-eda_files/figure-html/mosaic-plot-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-51"><img src="03-eda_files/figure-html/mosaic-plot-1.png" class="img-fluid figure-img" style="width:100.0%"></a></p>
</figure>
</div>
</div>
</div>
<p>Similar to the packages for waffle plots and ridgeline plots, we can customize mosaic plots using the functions in <a href="02-review-r.html#sec-customize-plots" class="quarto-xref"><span>Section 2.6.2</span></a>. In the code below, we update the colors using a palette from the <strong>viridis</strong> R package <span class="citation" data-cites="viridis">(<a href="references.html#ref-viridis" role="doc-biblioref">Garnier et al. 2024</a>)</span>.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb11"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://sjmgarnier.github.io/viridis/">viridis</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu">ggplot</span><span class="op">(</span>data <span class="op">=</span> <span class="va">recipes</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_mosaic</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="fu">product</span><span class="op">(</span><span class="va">season</span>, <span class="va">chef_john</span><span class="op">)</span>, fill <span class="op">=</span> <span class="va">season</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">scale_fill_viridis_d</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="03-eda_files/figure-html/mosaic-plot-customized-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-52"><img src="03-eda_files/figure-html/mosaic-plot-customized-1.png" class="img-fluid figure-img" style="width:100.0%"></a></p>
</figure>
</div>
</div>
</div>
</section></section><section id="summary" class="level2" data-number="3.8"><h2 data-number="3.8" class="anchored" data-anchor-id="summary">
<span class="header-section-number">3.8</span> Summary</h2>
<div class="analysis_in_practice">
<p><strong>Exploratory data analysis workflow:</strong></p>
<ul>
<li>Clean data</li>
<li>Explore individual variables</li>
<li>Explore relationships between two variables</li>
<li>Explore relationships between three or more variables</li>
</ul>
</div>
<p>In this chapter we introduced the exploratory data analysis, the step in the data science workflow when we begin to clean and explore the data. This is an important step in a regression analysis, because having a clear understanding of the data helps inform the decisions we make throughout the analysis process. It is also the point at which we may identify errors or missing values in the data. We conduct EDA by using visualizations and summary statistics to get an overview of the data, explore the distributions of individual variables, explore the relationships between two variables, and explore the relationships between three or more variables.</p>
<p>The remainder of the text focuses on regression analysis, methods for modeling the relationship between a response variable and one or more predictor variables. Given the importance of EDA in every analysis, each chapter will begin with a short exploration of key variables and relationships in the analysis. The EDA in these sections are is meant to provide context about the data, equipping us to more fully interpret and draw conclusions from the regression analysis results. Because the focus of each chapter is the regression analysis method, the EDA will be brief and focused, similar to what might be presented in a final presentation or report. In practice, the EDA is more in-depth, particularly when working with data sets that have a large number of variables.</p>
<p>We begin with simple linear regression in <a href="04-slr.html" class="quarto-xref"><span>Chapter 4</span></a>, using regression analysis to model the relationship between the response variable and one predictor variable. This will provide the foundation for the more complex models introduced in <a href="07-mlr.html" class="quarto-xref"><span>Chapter 7</span></a>.</p>


<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list" style="display: none">
<div id="ref-allrecipes_aboutus" class="csl-entry" role="listitem">
Allrecipes. 2025. <span>“About Us.”</span> <a href="https://www.allrecipes.com/about-us-6648102" class="uri">https://www.allrecipes.com/about-us-6648102</a>.
</div>
<div id="ref-tidytuesday" class="csl-entry" role="listitem">
Community, Data Science Learning. 2024. <span>“Tidy Tuesday: A Weekly Social Data Project.”</span> <a href="https://tidytues.day">https://tidytues.day</a>.
</div>
<div id="ref-viridis" class="csl-entry" role="listitem">
Garnier, Simon, Ross, Noam, Rudis, Robert, Camargo, et al. 2024. <em><span class="nocase">viridis(Lite)</span> - Colorblind-Friendly Color Maps for r</em>. <a href="https://doi.org/10.5281/zenodo.4679423">https://doi.org/10.5281/zenodo.4679423</a>.
</div>
<div id="ref-ggmosaic" class="csl-entry" role="listitem">
Jeppson, Haley, Heike Hofmann, and Di Cook. 2021. <span>“Ggmosaic: Mosaic Plots in the ’Ggplot2’ Framework.”</span> <a href="https://doi.org/10.32614/CRAN.package.ggmosaic">https://doi.org/10.32614/CRAN.package.ggmosaic</a>.
</div>
<div id="ref-tastyR" class="csl-entry" role="listitem">
Mubia, Brian. 2025a. <span>“tastyR: Recipe Data from ’Allrecipes.com’.”</span> <a href="https://doi.org/10.32614/CRAN.package.tastyR">https://doi.org/10.32614/CRAN.package.tastyR</a>.
</div>
<div id="ref-briansworks_14krecipes_2025" class="csl-entry" role="listitem">
———. 2025b. <span>“I Scraped 14K Recipes, so You Won’t Have To.”</span> August 1, 2025. <a href="https://www.brians.works/i-scraped-14k-recipes-so-you-wont-have-to/">https://www.brians.works/i-scraped-14k-recipes-so-you-wont-have-to/</a>.
</div>
<div id="ref-ncei" class="csl-entry" role="listitem">
National Centers for Environmental Information (NCEI). 2025. <span>“Meteorological Versus Astronomical Seasons.”</span> <a href="https://www.ncei.noaa.gov/news/meteorological-versus-astronomical-seasons" class="uri">https://www.ncei.noaa.gov/news/meteorological-versus-astronomical-seasons</a>.
</div>
<div id="ref-waffle" class="csl-entry" role="listitem">
Rudis, Bob, and Dave Gandy. 2023. <span>“Waffle: Create Waffle Chart Visualizations.”</span> <a href="https://github.com/hrbrmstr/waffle">https://github.com/hrbrmstr/waffle</a>.
</div>
<div id="ref-tukey1977exploratory" class="csl-entry" role="listitem">
Tukey, John Wilder et al. 1977. <em>Exploratory Data Analysis</em>. Vol. 2. Springer.
</div>
<div id="ref-skimr" class="csl-entry" role="listitem">
Waring, Elin, Michael Quinn, Amelia McNamara, Eduardo Arino de la Rubia, Hao Zhu, and Shannon Ellis. 2022. <span>“Skimr: Compact and Flexible Summaries of Data.”</span> <a href="https://CRAN.R-project.org/package=skimr">https://CRAN.R-project.org/package=skimr</a>.
</div>
<div id="ref-tidyverse-2" class="csl-entry" role="listitem">
Wickham, Hadley, Mara Averick, Jennifer Bryan, Winston Chang, Lucy D’Agostino McGowan, Romain François, Garrett Grolemund, et al. 2019. <span>“Welcome to the <span></span>Tidyverse<span></span>”</span> 4: 1686. <a href="https://doi.org/10.21105/joss.01686">https://doi.org/10.21105/joss.01686</a>.
</div>
<div id="ref-ggridges" class="csl-entry" role="listitem">
Wilke, Claus O. 2025. <span>“Ggridges: Ridgeline Plots in ’Ggplot2’.”</span> <a href="https://doi.org/10.32614/CRAN.package.ggridges">https://doi.org/10.32614/CRAN.package.ggridges</a>.
</div>
</div>
</section><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><hr>
<ol>
<li id="fn1"><p>Month is a categorical variable, because each number represents a specific month. The more reliable identifier variable is <code>url</code>. There is one recipe per page, and multiple pages cannot have the same URL. Therefore, the URL uniquely identifies the recipe. Though unlikely, it is possible for multiple recipes to have the same name. This actually occurs for two names in the data “Cajun Chicken and Sausage Gumbo” and “Chicharrones de Pollo”.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>In general, there number of recipes posted is approximately equal across the winter, summer, and fall seasons. The smallest proportion of recipes are posted during the spring season.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p>The shape of the distribution of <code>avg_rating</code> is skewed left and unimodal.<a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn4"><p>The distribution of <code>cook_time</code> is unimodal and right-skewed. The center is best represented by the median, of 25 minutes. The spread is best represented by the IQR, of 35 minutes (45 - 10). There are some clear outliers with cook times of about 350 minutes and greater (the max is 600).<a href="#fnref4" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn5"><p>There does not appear to be a relationship between the average rating and the preparation time. There is not a clear trend on the plot.<a href="#fnref5" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn6"><p>Example observations: (1) There is the least variability in the <code>avg_rating</code> for French recipes. (2) The median <code>avg_rating</code> seems to be similar for all countries.<br>
There does not appear to be a relationship between <code>country</code> and <code>avg_rating</code>. The median <code>avg_rating</code>is similar across countries, and there is a lot of overlap in the distributions of <code>avg_rating</code><a href="#fnref6" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn7"><p>Example observations: (1) A larger proportion of Filipino and French recipes are posted in the fall compared to recipes from other countries. (2) A much smaller proportion of Filipino recipes are posted in the spring compared to other countries.<br>
There does appear to be a relationship between <code>season</code> and <code>country</code> . There are differences in the distribution of season across countries.<a href="#fnref7" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol></section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/introregressio\.netlify\.app");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script><nav class="page-navigation"><div class="nav-page nav-page-previous">
      <a href="./02-review-r.html" class="pagination-link" aria-label="Data analysis in R">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Data analysis in R</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./04-slr.html" class="pagination-link" aria-label="Simple linear regression">
        <span class="nav-page-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Simple linear regression</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer"><div class="nav-footer"><div class="nav-footer-center"><div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/matackett/regression-book/issues/new" class="toc-action"><i class="bi bi-github"></i>Report an issue</a></li></ul></div></div></div></footer><script>var lightboxQuarto = GLightbox({"closeEffect":"zoom","descPosition":"bottom","loop":false,"openEffect":"zoom","selector":".lightbox"});
(function() {
  let previousOnload = window.onload;
  window.onload = () => {
    if (previousOnload) {
      previousOnload();
    }
    lightboxQuarto.on('slide_before_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      const href = trigger.getAttribute('href');
      if (href !== null) {
        const imgEl = window.document.querySelector(`a[href="${href}"] img`);
        if (imgEl !== null) {
          const srcAttr = imgEl.getAttribute("src");
          if (srcAttr && srcAttr.startsWith("data:")) {
            slideConfig.href = srcAttr;
          }
        }
      } 
    });
  
    lightboxQuarto.on('slide_after_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(slideNode);
      }
    });
  
  };
  
})();
          </script>


</body></html>